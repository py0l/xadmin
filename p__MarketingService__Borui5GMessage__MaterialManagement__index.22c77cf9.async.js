"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[3665],{94737:function(w,F){var e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"};F.Z=e},51042:function(w,F,e){var g=e(1413),l=e(67294),O=e(42110),s=e(91146),S=function(j,M){return l.createElement(s.Z,(0,g.Z)((0,g.Z)({},j),{},{ref:M,icon:O.Z}))},K=l.forwardRef(S);F.Z=K},5966:function(w,F,e){var g=e(97685),l=e(1413),O=e(91),s=e(21770),S=e(47019),K=e(55241),V=e(98423),j=e(67294),M=e(76001),p=e(85893),N=["fieldProps","proFieldProps"],b=["fieldProps","proFieldProps"],I="text",h=function(n){var t=n.fieldProps,P=n.proFieldProps,v=(0,O.Z)(n,N);return(0,p.jsx)(M.Z,(0,l.Z)({valueType:I,fieldProps:t,filedConfig:{valueType:I},proFieldProps:P},v))},H=function(n){var t=(0,s.Z)(n.open||!1,{value:n.open,onChange:n.onOpenChange}),P=(0,g.Z)(t,2),v=P[0],r=P[1];return(0,p.jsx)(S.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(y){var m,U=y.getFieldValue(n.name||[]);return(0,p.jsx)(K.Z,(0,l.Z)((0,l.Z)({getPopupContainer:function(u){return u&&u.parentNode?u.parentNode:u},onOpenChange:function(u){return r(u)},content:(0,p.jsxs)("div",{style:{padding:"4px 0"},children:[(m=n.statusRender)===null||m===void 0?void 0:m.call(n,U),n.strengthText?(0,p.jsx)("div",{style:{marginTop:10},children:(0,p.jsx)("span",{children:n.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},n.popoverProps),{},{open:v,children:n.children}))}})},Y=function(n){var t=n.fieldProps,P=n.proFieldProps,v=(0,O.Z)(n,b),r=(0,j.useState)(!1),G=(0,g.Z)(r,2),y=G[0],m=G[1];return t!=null&&t.statusRender&&v.name?(0,p.jsx)(H,{name:v.name,statusRender:t==null?void 0:t.statusRender,popoverProps:t==null?void 0:t.popoverProps,strengthText:t==null?void 0:t.strengthText,open:y,onOpenChange:m,children:(0,p.jsx)("div",{children:(0,p.jsx)(M.Z,(0,l.Z)({valueType:"password",fieldProps:(0,l.Z)((0,l.Z)({},(0,V.Z)(t,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(E){var u;t==null||(u=t.onBlur)===null||u===void 0||u.call(t,E),m(!1)},onClick:function(E){var u;t==null||(u=t.onClick)===null||u===void 0||u.call(t,E),m(!0)}}),proFieldProps:P,filedConfig:{valueType:I}},v))})}):(0,p.jsx)(M.Z,(0,l.Z)({valueType:"password",fieldProps:t,proFieldProps:P,filedConfig:{valueType:I}},v))},B=h;B.Password=Y,B.displayName="ProFormComponent",F.Z=B},77636:function(w,F,e){e.d(F,{Z:function(){return R}});var g=e(1413),l=e(91),O=e(87462),s=e(67294),S=e(94737),K=e(57080),V=function(t,P){return s.createElement(K.Z,(0,O.Z)({},t,{ref:P,icon:S.Z}))},j=s.forwardRef(V),M=j,p=e(66476),N=e(83622),b=e(9105),I=e(90789),h=e(85893),H=["fieldProps","action","accept","listType","title","max","icon","buttonProps","disabled","proFieldProps"],Y=function(t,P){var v,r=t.fieldProps,G=t.action,y=t.accept,m=t.listType,U=t.title,E=U===void 0?"\u5355\u51FB\u4E0A\u4F20":U,u=t.max,k=t.icon,a=k===void 0?(0,h.jsx)(M,{}):k,te=t.buttonProps,ae=t.disabled,Q=t.proFieldProps,z=(0,l.Z)(t,H),T=(0,s.useMemo)(function(){var J;return(J=z.fileList)!==null&&J!==void 0?J:z.value},[z.fileList,z.value]),q=(0,s.useContext)(b.A),_=(Q==null?void 0:Q.mode)||q.mode||"edit",ne=(u===void 0||!T||(T==null?void 0:T.length)<u)&&_!=="read",re=(m!=null?m:r==null?void 0:r.listType)==="picture-card";return(0,h.jsx)(p.Z,(0,g.Z)((0,g.Z)({action:G,accept:y,ref:P,listType:m||"picture",fileList:T},r),{},{name:(v=r==null?void 0:r.name)!==null&&v!==void 0?v:"file",onChange:function(oe){var X;r==null||(X=r.onChange)===null||X===void 0||X.call(r,oe)},children:ne&&(re?(0,h.jsxs)("span",{children:[a," ",E]}):(0,h.jsxs)(N.ZP,(0,g.Z)((0,g.Z)({disabled:ae||(r==null?void 0:r.disabled)},te),{},{children:[a,E]})))}))},B=(0,I.G)(s.forwardRef(Y),{getValueFromEvent:function(t){return t.fileList}}),R=B},56975:function(w,F,e){e.r(F),e.d(F,{default:function(){return X}});var g=e(15009),l=e.n(g),O=e(97857),s=e.n(O),S=e(13769),K=e.n(S),V=e(99289),j=e.n(V),M=e(76772);function p(c){return N.apply(this,arguments)}function N(){return N=j()(l()().mark(function c(C){return l()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,M.request)("/api/materialManagement",{method:"GET",params:s()({},C)}));case 1:case"end":return i.stop()}},c)})),N.apply(this,arguments)}var b=e(51042),I=e(71477),h=e(45360),H=e(95715),Y=e(42075),B=e(86738),R=e(71471),n=e(83622),t=e(67294),P=e(5574),v=e.n(P),r=e(37476),G=e(5966),y=e(1413),m=e(91),U=e(22270),E=e(78045),u=e(90789),k=e(76001),a=e(85893),te=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],ae=t.forwardRef(function(c,C){var A=c.fieldProps,i=c.options,o=c.radioType,d=c.layout,Z=c.proFieldProps,L=c.valueEnum,$=(0,m.Z)(c,te);return(0,a.jsx)(k.Z,(0,y.Z)((0,y.Z)({valueType:o==="button"?"radioButton":"radio",ref:C,valueEnum:(0,U.h)(L,void 0)},$),{},{fieldProps:(0,y.Z)({options:i,layout:d},A),proFieldProps:Z,filedConfig:{customLightMode:!0}}))}),Q=t.forwardRef(function(c,C){var A=c.fieldProps,i=c.children;return(0,a.jsx)(E.ZP,(0,y.Z)((0,y.Z)({},A),{},{ref:C,children:i}))}),z=(0,u.G)(Q,{valuePropName:"checked",ignoreWidth:!0}),T=z;T.Group=ae,T.Button=E.ZP.Button,T.displayName="ProFormComponent";var q=T,_=e(77636),ne=function(C){var A=C.trigger,i=C.onOk,o=(0,t.useState)("image"),d=v()(o,2),Z=d[0],L=d[1],$=function(f){var x=f.size/1024/1024<2;x||h.ZP.error("\u6587\u4EF6\u5927\u5C0F\u4E0D\u80FD\u8D85\u8FC7 2MB!");var ee=f.type==="image/jpeg"||f.type==="image/png"||f.type==="image/jpg";return!ee&&Z==="image"&&h.ZP.error("\u56FE\u7247\u683C\u5F0F\u53EA\u80FD\u662F JPG/PNG/JPEG!"),x&&ee};return(0,a.jsxs)(r.Y,{title:"\u6DFB\u52A0\u7D20\u6750",trigger:A,onFinish:function(){var W=j()(l()().mark(function f(x){return l()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return i(x),D.abrupt("return",!0);case 2:case"end":return D.stop()}},f)}));return function(f){return W.apply(this,arguments)}}(),width:600,layout:"horizontal",labelCol:{span:4},initialValues:{materialType:"image",validityType:"permanent"},children:[(0,a.jsx)(G.Z,{name:"materialName",label:"\u7D20\u6750\u540D\u79F0",placeholder:"\u8BF7\u8F93\u5165\u7D20\u6750\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7D20\u6750\u540D\u79F0!"}]}),(0,a.jsx)(q.Group,{name:"materialType",label:"\u7D20\u6750\u7C7B\u578B",options:[{label:"\u56FE\u7247",value:"image"},{label:"\u89C6\u9891",value:"video"},{label:"\u97F3\u9891",value:"audio"}],fieldProps:{onChange:function(f){return L(f.target.value)}}}),(0,a.jsx)(_.Z,{name:"materialUrl",label:"\u7D20\u6750\u5730\u5740",max:1,fieldProps:{name:"file",listType:"picture-card",action:"/api/upload",beforeUpload:$},rules:[{required:!0,message:"\u8BF7\u4E0A\u4F20\u7D20\u6750!"}],extra:"\u8BF7\u4E0A\u4F20\u5927\u5C0F\u4E0D\u8D85\u8FC7 2M \u683C\u5F0F\u4E3A png/jpg/jpeg \u7684\u6587\u4EF6",icon:(0,a.jsx)(b.Z,{})}),(0,a.jsx)(_.Z,{name:"thumbnailUrl",label:"\u7D20\u6750\u7F29\u7565\u56FE",max:1,fieldProps:{name:"file",listType:"picture-card",action:"/api/upload",beforeUpload:$},extra:"\u8BF7\u4E0A\u4F20\u5927\u5C0F\u4E0D\u8D85\u8FC7 2M \u683C\u5F0F\u4E3A png/jpg/jpeg \u7684\u6587\u4EF6",icon:(0,a.jsx)(b.Z,{})}),(0,a.jsx)(q.Group,{name:"validityType",label:"\u6709\u6548\u671F\u7C7B\u578B",options:[{label:"\u4E34\u65F6",value:"temporary"},{label:"\u6C38\u4E45",value:"permanent"}]})]})},re=ne,J=["searchKeyword"],oe=function(){var C=function(o){console.log("\u4E0A\u4F20\u7D20\u6750\u6570\u636E:",o),h.ZP.success("\u7D20\u6750\u4E0A\u4F20\u6210\u529F")},A=[{title:"\u8D26\u53F7UID",dataIndex:"accountUID",key:"accountUID",valueType:"select",fieldProps:{showSearch:!0,options:[{label:"\u5168\u90E8\u8D26\u53F7",value:""},{label:"\u8D26\u53F7A",value:"accountA"},{label:"\u8D26\u53F7B",value:"accountB"}]}},{title:"\u624B\u673A\u53F7\u7801",dataIndex:"phoneNumber",key:"phoneNumber",search:!1},{title:"\u4F01\u4E1A\u540D\u79F0",dataIndex:"enterpriseName",key:"enterpriseName",search:!1},{title:"\u7D20\u6750ID",dataIndex:"materialID",key:"materialID",search:!1},{title:"\u7D20\u6750\u540D\u79F0",dataIndex:"materialName",key:"materialName",search:!1},{title:"\u7D20\u6750\u5185\u5BB9",dataIndex:"materialContent",key:"materialContent",search:!1,render:function(o,d){return(0,a.jsx)("div",{style:{width:60,height:60,border:"1px solid #d9d9d9",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,a.jsx)(H.Z,{width:40,height:40,src:d.materialContent,fallback:"https://gw.alipayobjects.com/zos/antfincdn/aPkFc8Sj7n/test.svg"})})}},{title:"\u72B6\u6001",dataIndex:"status",key:"status",valueType:"select",valueEnum:{"":{text:"\u5168\u90E8",status:"Default"},\u5F85\u5BA1\u6838:{text:"\u5F85\u5BA1\u6838",status:"Warning"},\u5BA1\u6838\u4E2D:{text:"\u5BA1\u6838\u4E2D",status:"Processing"},\u901A\u8FC7:{text:"\u901A\u8FC7",status:"Success"},\u62D2\u7EDD:{text:"\u62D2\u7EDD",status:"Error"}}},{title:"\u67E5\u8BE2",dataIndex:"searchKeyword",key:"searchKeyword",valueType:"text",fieldProps:{placeholder:"\u8F93\u5165\u7D20\u6750ID\u3001\u7D20\u6750\u540D\u79F0"},hideInTable:!0},{title:"\u7CFB\u7EDF\u5BA1\u6838",dataIndex:"systemReview",key:"systemReview",search:!1,render:function(o){return o==="\u901A\u8FC7"?(0,a.jsx)("span",{style:{color:"green"},children:o}):o}},{title:"\u901A\u9053\u5BA1\u6838",dataIndex:"channelReview",key:"channelReview",search:!1,render:function(o){return o==="\u901A\u8FC7"?(0,a.jsx)("span",{style:{color:"green"},children:o}):o}},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createTime",key:"createTime",search:!1},{title:"\u64CD\u4F5C",key:"action",search:!1,fixed:"right",width:120,render:function(o,d){return(0,a.jsxs)(Y.Z,{size:"middle",children:[d.status==="\u5F85\u5BA1\u6838"&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(B.Z,{title:"\u786E\u5B9A\u540C\u610F\u8BE5\u7D20\u6750\u5417\uFF1F",onConfirm:function(){return h.ZP.success("\u540C\u610F\u7D20\u6750: ".concat(d.materialID))},okText:"\u786E\u5B9A",cancelText:"\u53D6\u6D88",children:(0,a.jsx)(R.Z.Link,{children:"\u540C\u610F"})}),(0,a.jsx)(B.Z,{title:"\u786E\u5B9A\u62D2\u7EDD\u8BE5\u7D20\u6750\u5417\uFF1F",onConfirm:function(){return h.ZP.error("\u62D2\u7EDD\u7D20\u6750: ".concat(d.materialID))},okText:"\u786E\u5B9A",cancelText:"\u53D6\u6D88",children:(0,a.jsx)(R.Z.Link,{style:{color:"red"},children:"\u62D2\u7EDD"})})]}),d.status==="\u901A\u8FC7"&&(0,a.jsx)(B.Z,{title:"\u786E\u5B9A\u5220\u9664\u8BE5\u7D20\u6750\u5417\uFF1F",onConfirm:function(){return h.ZP.info("\u5220\u9664\u7D20\u6750: ".concat(d.materialID))},okText:"\u786E\u5B9A",cancelText:"\u53D6\u6D88",children:(0,a.jsx)(R.Z.Link,{children:"\u5220\u9664"})})]})}}];return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(I.Z,{columns:A,request:j()(l()().mark(function i(){var o,d,Z,L,$,W,f,x=arguments;return l()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return o=x.length>0&&x[0]!==void 0?x[0]:{},d=x.length>1?x[1]:void 0,Z=x.length>2?x[2]:void 0,console.log(o,d,Z),L=o.searchKeyword,$=K()(o,J),W=s()(s()(s()({},$),d),Z),L&&(W=s()(s()({},W),{},{materialID:L,materialName:L})),D.next=9,p(W);case 9:return f=D.sent,D.abrupt("return",{data:f.data,success:f.success,total:f.total});case 11:case"end":return D.stop()}},i)})),rowKey:"materialID",pagination:{showSizeChanger:!0},search:{labelWidth:"auto"},scroll:{x:"max-content"},options:!1,toolBarRender:function(){return[(0,a.jsx)(re,{trigger:(0,a.jsx)(n.ZP,{type:"primary",icon:(0,a.jsx)(b.Z,{}),children:"\u4E0A\u4F20\u7D20\u6750"}),onOk:C},"uploadMaterial")]}})})},X=oe}}]);
