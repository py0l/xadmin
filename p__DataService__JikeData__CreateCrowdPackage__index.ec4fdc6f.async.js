"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[2352],{82528:function(V,Oe,A){A.r(Oe),A.d(Oe,{CreateTask:function(){return qe},default:function(){return xn}});var tt=A(15009),Y=A.n(tt),nt=A(99289),me=A.n(nt),at=A(5574),G=A.n(at),it=A(76772),R=A(47019),E=A(45360),D=A(86250),W=A(55102),ot=A(10354),_=A(34041),rt=A(84567),H=A(83622),lt=A(27484),ve=A.n(lt),C=A(67294),ut=A(97857),y=A.n(ut),st=A(19632),K=A.n(st),Ge=A(71471),ct=A(85418),Ee=A(42075),dt=A(86738),vt=A(42119),mt=A(9783),p=A.n(mt),r=A(85893),Ze={LIVE:"\u5C45\u4F4F\u4EBA\u7FA4",WORK:"\u5DE5\u4F5C\u4EBA\u7FA4",VISITED:"\u5230\u8BBF\u4EBA\u7FA4"},ft={AND:"\u5E76\u96C6",OR:"\u4EA4\u96C6",FILTER:"\u6392\u9664"};function gt(){return Object.keys(Ze).map(function(f){return{value:f,label:Ze[f]}})}var pt=[{label:"\u53EA\u8DD1\u4E00\u6B21",value:1},{label:"\u6BCF\u5929",value:2},{label:"\u6CD5\u5B9A\u5DE5\u4F5C\u65E5",value:3},{label:"\u6CD5\u5B9A\u8282\u5047\u65E5",value:4},{label:"\u5468\u4E00\u81F3\u5468\u4E94",value:5},{label:"\u81EA\u5B9A\u4E49",value:6}],ht=[{label:"\u5468\u4E00",value:0},{label:"\u5468\u4E8C",value:1},{label:"\u5468\u4E09",value:2},{label:"\u5468\u56DB",value:3},{label:"\u5468\u4E94",value:4},{label:"\u5468\u516D",value:5},{label:"\u5468\u65E5",value:6}],Pe={dates:[],population_type:["WORK"],population_data:{fence:{circle:[],polygon:[]},scene:[],shop:[]},extension_info:{time_frame:[{id:1,start:"",end:""}]},tagData:[],crowd_type:"1"},yt=function(v){var c,u,e={crowd_type_list:{type:v.population_type},area_value:{pence:{}}},a=v.population_data;a.fence.circle.length&&(e.area_value.pence.circle=a.fence.circle.map(function(s){return y()(y()({},s),{},{content:s.content.reverse()})})),a.fence.polygon.length&&(e.area_value.pence.polygon=JSON.parse(JSON.stringify(a.fence.polygon)).map(function(s){return y()(y()({},s),{},{path:s.path.map(function(d){return d.reverse()})})})),a.scene.length&&(e.area_value.poi=a.scene);var t=v.extension_info;if(t.time_frame[0].start&&(e.crowd_type_list.hour_time=t.time_frame.filter(function(s){return s.start}).map(function(s){return{hour_time_start:s.start,hour_time_end:s.end}})),(c=t.remain_minute)!==null&&c!==void 0&&c.min){var o,i;e.crowd_type_list.stand_time_min=(o=t.remain_minute)===null||o===void 0?void 0:o.min,e.crowd_type_list.stand_time_max=(i=t.remain_minute)===null||i===void 0?void 0:i.max}if((u=t.visit_day)!==null&&u!==void 0&&u.min){var n,l;e.crowd_type_list.visit_time_min=(n=t.visit_day)===null||n===void 0?void 0:n.min,e.crowd_type_list.visit_time_max=(l=t.visit_day)===null||l===void 0?void 0:l.max}return v.relation_type&&(e.operator=v.relation_type),v.tagData.length&&(e.tag_value=v.tagData),e},Le=(0,C.createContext)(void 0),Ft=function(v){var c=v.children,u=(0,C.useState)([Pe]),e=G()(u,2),a=e[0],t=e[1],o=(0,C.useState)(0),i=G()(o,2),n=i[0],l=i[1],s=function(m){var g=m.index,h=m.type,x=m.value,j=K()(a);j[g]=y()(y()({},j[g]),{},p()({},h,x)),t(j)};return(0,r.jsx)(Le.Provider,{value:{params:a,setParams:t,changeParames:s,setActiveKey:l,activeKey:n},children:c})},Ae=function(){var v=(0,C.useContext)(Le);if(!v)throw new Error("useFormParams must be used within a FormParamsProvider");return v},Ie=A(85576);function At(f){var v=function(){},c=function(){f.close()};return(0,r.jsx)(Ie.Z,{maskClosable:!1,width:1e3,className:"do-com-modal do-tag-modal",title:"\u9009\u62E9\u6807\u7B7E",open:!0,onOk:v,onCancel:c,children:(0,r.jsx)("div",{style:{height:526}})})}function Qe(f){return(0,r.jsx)(D.Z,{className:"do-com-crowdtag",children:f.data.map(function(v){return(0,r.jsx)("div",{children:(0,r.jsxs)(D.Z,{className:"crowd-tag-item",children:[v.label_name,"\uFF1A",v.label_value,(0,r.jsx)("span",{className:"iconfont",onClick:function(){f.setData(f.data.filter(function(u){return u.label_id!==v.label_id}))},children:"\uE6B8"})]})},v.label_id)})})}var xt=function(){return(0,r.jsx)(D.Z,{className:"rule-item empty",align:"center",justify:"center",style:{height:170},children:(0,r.jsxs)(D.Z,{vertical:!0,children:[(0,r.jsx)("img",{src:A(95502)}),"\u8BF7\u5728\u5DE6\u4FA7\u9762\u677F\u7F16\u8F91\u89C4\u5219"]})})},Ct=function(v){var c,u,e,a,t,o,i,n,l,s,d,m,g,h,x,j,P,Z,N,b=Ae(),L=b.params,X=b.setParams,T=v.data,M=T.extension_info||{},ae=(0,C.useState)(!1),J=G()(ae,2),q=J[0],B=J[1],ie=M.time_frame?M.time_frame.map(function(k){return k.start&&k.end?k.start+"~"+k.end:""}).filter(function(k){return k!==""}):[];return(0,C.useEffect)(function(){console.log("params",L)},[L]),(0,r.jsxs)(D.Z,{vertical:!0,className:"rule-item",gap:12,style:{paddingBottom:0},children:[T.dates.length===2&&(0,r.jsxs)(D.Z,{justify:"space-between",children:[(0,r.jsx)("span",{className:"info-title",children:"\u65F6\u95F4\u8303\u56F4"}),(0,r.jsx)("span",{className:"info-content",children:T.dates.join(" ~ ")})]}),((c=T.population_data)===null||c===void 0?void 0:c.scene.length)>0&&(0,r.jsxs)(D.Z,{justify:"space-between",children:[(0,r.jsx)("span",{className:"info-title",children:"\u573A\u666FID"}),(0,r.jsx)("span",{className:"info-content",children:(0,r.jsx)(Ge.Z.Paragraph,{style:{marginBottom:0},ellipsis:{rows:2,expandable:"collapsible",expanded:q,onExpand:function(U,$){return B($.expanded)}},children:(u=T.population_data)===null||u===void 0||(u=u.scene)===null||u===void 0?void 0:u.join("\u3001")})})]}),(((e=T.population_data)===null||e===void 0?void 0:e.fence.circle.length)>0||((a=T.population_data)===null||a===void 0?void 0:a.fence.polygon.length)>0||((t=T.population_data)===null||t===void 0?void 0:t.shop.length)>0)&&(0,r.jsxs)(D.Z,{justify:"space-between",children:[(0,r.jsx)("span",{className:"info-title",children:"\u5730\u7406\u56F4\u680F"}),(0,r.jsx)("span",{className:"info-content",children:(0,r.jsx)(Ge.Z.Paragraph,{style:{marginBottom:0},ellipsis:{rows:2,expandable:"collapsible",expanded:q,onExpand:function(U,$){return B($.expanded)}},children:[].concat(K()(((o=T.population_data)===null||o===void 0?void 0:o.fence.circle)||[]),K()(((i=T.population_data)===null||i===void 0?void 0:i.fence.polygon)||[]),K()(((n=T.population_data)===null||n===void 0?void 0:n.shop)||[])).map(function(k){var U;return"name"in k&&k.name?k.name:"info"in k&&(U=k.info)!==null&&U!==void 0&&U.title?k.info.title:""}).filter(function(k){return k!==""}).join("\u3001")})})]}),((l=T.population_type)===null||l===void 0?void 0:l.length)>0&&(0,r.jsxs)(D.Z,{justify:"space-between",children:[(0,r.jsx)("span",{className:"info-title",children:"\u4EBA\u7FA4\u7C7B\u578B"}),(0,r.jsx)("span",{className:"info-content",children:T==null||(s=T.population_type)===null||s===void 0?void 0:s.map(function(k){return Ze[k]}).join("\u3001")})]}),((d=M.time_frame)===null||d===void 0?void 0:d.length)>0&&M.time_frame[0].start&&(0,r.jsxs)(D.Z,{justify:"space-between",children:[(0,r.jsx)("span",{className:"info-title",children:"\u53D6\u6570\u65F6\u6BB5"}),(0,r.jsx)(D.Z,{vertical:!0,className:"info-content",children:ie.map(function(k){return(0,r.jsx)("div",{children:k},k)})})]}),(((m=M.remain_minute)===null||m===void 0?void 0:m.min)||((g=M.remain_minute)===null||g===void 0?void 0:g.max))&&(0,r.jsxs)(D.Z,{justify:"space-between",children:[(0,r.jsx)("span",{className:"info-title",children:"\u505C\u7559\u65F6\u957F"}),(0,r.jsxs)("span",{className:"info-content",children:[(h=M.remain_minute)===null||h===void 0?void 0:h.min,"min ~ ",(x=M.remain_minute)===null||x===void 0?void 0:x.max,"min"]})]}),(((j=M.visit_day)===null||j===void 0?void 0:j.min)||((P=M.visit_day)===null||P===void 0?void 0:P.max))&&(0,r.jsxs)(D.Z,{justify:"space-between",children:[(0,r.jsx)("span",{className:"info-title",children:"\u5230\u8BBF\u5929\u6570"}),(0,r.jsxs)("span",{className:"info-content",style:{textAlign:"end"},children:[(Z=M.visit_day)===null||Z===void 0?void 0:Z.min,"\u5929 ~ ",(N=M.visit_day)===null||N===void 0?void 0:N.max,"\u5929"]})]}),T.tagData.length>0&&(0,r.jsxs)(D.Z,{justify:"space-between",children:[(0,r.jsx)("span",{className:"info-title",children:"\u6807\u7B7E\u6570\u91CF"}),(0,r.jsxs)("span",{className:"info-content",children:[T.tagData.length,"\u4E2A"]})]}),(0,r.jsx)(D.Z,{style:{paddingBottom:12},children:(0,r.jsx)(Qe,{data:T.tagData,setData:function(U){var $=v.index,ce=L[v.index];L[$]=y()(y()({},ce),{},{tagData:U}),X(K()(L))}})})]})},Dt=function(v){var c=v.index,u=v.data,e=Ae(),a=e.params,t=e.setParams;return(0,r.jsxs)(D.Z,{children:[c!==0&&(0,r.jsxs)("div",{className:"progressdot-type",children:[(0,r.jsx)("span",{className:"step-icon-wrap",children:(0,r.jsx)("img",{src:A(31779),alt:""})}),(0,r.jsx)(ct.Z,{className:"do-progressdot-dropdown",menu:{items:[{key:"AND",label:"\u5E76\u96C6",onClick:function(){var i=K()(a);i[c].relation_type="AND",t(K()(a))}},{key:"OR",label:"\u4EA4\u96C6",onClick:function(){var i=K()(a);i[c].relation_type="OR",t(K()(a))}},{key:"FILTER",label:"\u6392\u9664",onClick:function(){var i=K()(a);i[c].relation_type="FILTER",t(K()(a))}}]},children:(0,r.jsx)("a",{onClick:function(i){return i.preventDefault()},children:(0,r.jsxs)(Ee.Z,{children:[u.relation_type?ft[u.relation_type]:"\u9009\u62E9\u5173\u7CFB",(0,r.jsx)("img",{src:A(71286),alt:""})]})})})]}),(0,r.jsx)("div",{className:"progressdot-circle"})]})},wt=function(v){var c=v.index,u=v.handleDlete;return(0,r.jsxs)(D.Z,{children:["\u4EBA\u7FA4\u89C4\u5219".concat(c+1),(0,r.jsx)(dt.Z,{title:"\u63D0\u793A",className:"do-preview-popconfirm",description:"\u786E\u5B9A\u5220\u9664\uFF1F\u6B64\u64CD\u4F5C\u4E0D\u53EF\u9006 ",onConfirm:u,children:c!==0&&(0,r.jsx)("span",{className:"iconfont delete-btn",children:"\uE6A4"})})]})};function jt(){(0,C.useEffect)(function(){},[]);var f=Ae(),v=f.params,c=f.setParams,u=f.setActiveKey,e=function(o){var i=K()(v).filter(function(n,l){return l!==o});c(i),u(i.length-1)},a=function(o){var i=K()(v),n=JSON.parse(JSON.stringify(Pe));n.relation_type=o,i.push(n),c(i),u(i.length-1)};return(0,r.jsxs)("div",{className:"do-page-previewcard",children:[(0,r.jsx)(vt.Z,{progressDot:function(o,i){var n=i.status,l=i.index;return(0,r.jsx)(Dt,{data:v[l],index:l})},current:v.length+1,direction:"vertical",items:v.map(function(t,o){var i=JSON.parse(JSON.stringify(Pe)),n=JSON.parse(JSON.stringify(t));delete i.relation_type,delete n.relation_type,delete n.crowd_type,delete i.crowd_type;var l=JSON.stringify(i)===JSON.stringify(n);return{title:(0,r.jsx)(wt,{handleDlete:function(){e(o)},index:o}),description:l?(0,r.jsx)(xt,{}):(0,r.jsx)(Ct,{index:o,data:t})}})}),(0,r.jsxs)("div",{className:"rule-item add-fn",children:[(0,r.jsx)("div",{className:"title",children:"\u6DFB\u52A0\u5E76\u9009\u62E9\u89C4\u5219\u4E4B\u95F4\u7684\u5173\u7CFB"}),(0,r.jsxs)(D.Z,{justify:"space-around",gap:8,children:[(0,r.jsxs)(D.Z,{align:"center",justify:"center",onClick:function(){a("AND")},className:"add-fn-item",children:[(0,r.jsx)("img",{src:A(29240)}),"\u5E76\u96C6"]}),(0,r.jsxs)(D.Z,{onClick:function(){a("OR")},align:"center",justify:"center",className:"add-fn-item",children:[(0,r.jsx)("img",{src:A(25507)}),"\u4EA4\u96C6"]}),(0,r.jsxs)(D.Z,{onClick:function(){a("FILTER")},align:"center",justify:"center",className:"add-fn-item",children:[(0,r.jsx)("img",{src:A(58971)}),"\u6392\u9664"]})]})]})]})}var le=A(78045),Et=A(47221),Pt=A(12444),ue=A.n(Pt),It=A(72004),se=A.n(It),bt=A(25098),F=A.n(bt),kt=A(31996),be=A.n(kt),Bt=A(26037),ke=A.n(Bt),Ve=A(41270),St=A(78940),wn=A(40213),ne=function(){function f(v){var c=this;ue()(this,f),p()(this,"option",void 0),p()(this,"amapText",void 0),this.option=v,this.createContainer(),this.option.map.on("zoomchange",function(){requestAnimationFrame(function(){var u=c.option.map.getZoom(),e=Number((1-(u-16)/4).toFixed(2));if(!(e>1)){var a=document.getElementsByClassName("area-tooltip");if(a.length>0)for(var t=0;t<a.length;t++){var o=a[t];if(o.nextSibling){var i=document.getElementsByClassName("area-tooltip")[t].nextSibling;i.style.opacity!=e&&(i.style.opacity=e)}}}})})}return se()(f,[{key:"createContainer",value:function(){var c=this.option,u=c.text,e=c.offset,a=c.onEdit;this.amapText=new AMap.Text({text:u||"",anchor:"center",cursor:"pointer",visible:!1,offset:e||[0,0],style:{padding:".1rem .2rem","border-radius":".25rem","background-color":"white","border-width":0,"box-shadow":"0 2px 6px 0 rgba(114, 124, 245, .5)","text-align":"center","font-size":"12px",color:"rgba(2,4,13,.85)","user-select":"none","line-height":"1.5"}}),this.amapText.setMap(this.option.map),a&&this.amapText.on("click",function(t){a(t)})}},{key:"setData",value:function(c){var u=c.position,e=c.text;if(this.amapText){var a=this.option.onEdit;e?(this.amapText.setText(a?"<div class='amap-text-wrapper'>".concat(e,"</div>"):e),this.amapText.getVisible()||this.amapText.show()):this.amapText.hide(),u&&this.amapText.setPosition(u)}}},{key:"hide",value:function(){var c;(c=this.amapText)===null||c===void 0||c.hide()}},{key:"remove",value:function(){var c;(c=this.amapText)===null||c===void 0||c.remove()}}]),f}(),O=function(f){return f[f.Normal=0]="Normal",f[f.Drawing=1]="Drawing",f[f.Fulfill=2]="Fulfill",f}({}),Me=function(){function f(v){ue()(this,f),p()(this,"id",void 0),p()(this,"idIndex",1),p()(this,"state",O.Normal),p()(this,"drawTooltip",void 0),p()(this,"option",{}),this.option=v,this.id=Zt(6),this.drawTooltip=new ne({map:v.map,offset:[0,35],className:"do-com-maptooltip-draw"})}return se()(f,[{key:"setDrawState",value:function(c){this.state=c;var u=this.option.map;u&&(c===O.Drawing&&u.setDefaultCursor("pointer"),c===O.Fulfill&&(u.setDefaultCursor(""),this.drawTooltip.hide(),console.log("this.drawTooltip",this.drawTooltip)))}},{key:"getId",value:function(){return this.idIndex++,this.id+this.idIndex}}]),f}();function Zt(f){for(var v="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",c="",u=0;u<f;u++){var e=Math.floor(Math.random()*v.length);c+=v[e]}return c}var xe=A(52445),ee=A(80883),Mt=A(52882),Nt=A(803),Tt=A(59957),z=A(80520),Rt=A(20745),Ot=A(13769),Ne=A.n(Ot),Ke=A(21532),Ce=A(37804),Je=A(82925),Gt=["initialValues","onFinish","onCancel"],Lt=["center"],Qt={labelAlign:"left",labelCol:{span:6},wrapperCol:{span:18}},Vt=function(v){var c=v.initialValues,u=v.onFinish,e=v.onCancel,a=Ne()(v,Gt),t=R.Z.useForm(),o=G()(t,1),i=o[0];C.useEffect(function(){if(c){var s=c.center,d=Ne()(c,Lt);s?i.setFieldsValue(y()(y()({},d),{},{center:s.toString()})):i.setFieldsValue(d)}},[c]);var n=function(){e==null||e()},l=function(){var s=me()(Y()().mark(function d(){var m;return Y()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.prev=0,h.next=3,i.validateFields();case 3:m=h.sent,u==null||u(m),h.next=10;break;case 7:h.prev=7,h.t0=h.catch(0),console.log(h.t0);case 10:case"end":return h.stop()}},d,null,[[0,7]])}));return function(){return s.apply(this,arguments)}}();return(0,r.jsx)(Ke.ZP,{locale:Je.Z,children:(0,r.jsx)("div",{className:"edit-circle-form-wrapper",children:(0,r.jsxs)(R.Z,y()(y()(y()({form:i},Qt),a),{},{onKeyDown:function(d){d.stopPropagation()},autoComplete:"off",children:[(0,r.jsx)(R.Z.Item,{name:"id",hidden:!0,children:(0,r.jsx)(W.Z,{placeholder:"\u8BF7\u8F93\u5165\u56F4\u680F\u540D\u79F0"})}),(0,r.jsx)(R.Z.Item,{name:"name",label:"\u540D\u79F0",rules:[{required:!0}],children:(0,r.jsx)(W.Z,{placeholder:"\u8BF7\u8F93\u5165\u56F4\u680F\u540D\u79F0"})}),(0,r.jsx)(R.Z.Item,{name:"center",label:"\u5706\u4E2D\u5FC3",rules:[{required:!0,validator:function(d,m){var g=m.split(","),h=g.every(function(x){return/^(\-|\+)?\d+(\.\d+)?$/.test(x)});return g.length===2&&h?Promise.resolve():Promise.reject(new Error("\u5750\u6807\u683C\u5F0F\u9519\u8BEF"))}}],children:(0,r.jsx)(W.Z,{placeholder:"\u8BF7\u8F93\u5165\u5706\u4E2D\u5FC3\u70B9\u7684\u5750\u6807"})}),(0,r.jsx)(R.Z.Item,{name:"coord",label:"\u5750\u6807\u7CFB",rules:[{required:!0}],children:(0,r.jsxs)(_.Z,{placeholder:"\u8BF7\u9009\u62E9\u5750\u6807\u7CFB",children:[(0,r.jsx)(_.Z.Option,{value:"GCJ02",children:"\u706B\u661F\u5750\u6807\u7CFBGCJ02"}),(0,r.jsx)(_.Z.Option,{value:"BD09",children:"\u767E\u5EA6\u5750\u6807\u7CFBBD09"}),(0,r.jsx)(_.Z.Option,{value:"WGS84",children:"\u5730\u7403\u5750\u6807\u7CFBWGS84"})]})}),(0,r.jsx)(R.Z.Item,{name:"radius",label:"\u5706\u534A\u5F84",rules:[{required:!0}],children:(0,r.jsx)(Ce.Z,{placeholder:"\u8BF7\u8F93\u516510-500\u7684\u534A\u5F84",style:{width:"100%"},min:10,max:500,precision:0,addonAfter:"m",controls:!1})}),(0,r.jsx)("div",{className:"submit-btn-wrapper",children:(0,r.jsxs)(Ee.Z,{size:50,children:[(0,r.jsx)(H.ZP,{onClick:n,children:"\u53D6\u6D88"}),(0,r.jsx)(H.ZP,{type:"primary",onClick:l,children:"\u786E\u5B9A"})]})})]}))})})},Kt=Vt,Jt=["initialValues","onFinish","onCancel"],Wt={labelAlign:"left",labelCol:{span:6},wrapperCol:{span:18}},Ut=function(v){var c=v.initialValues,u=v.onFinish,e=v.onCancel,a=Ne()(v,Jt),t=R.Z.useForm(),o=G()(t,1),i=o[0];C.useEffect(function(){i.setFieldsValue(c)},[c]);var n=function(){e==null||e()},l=function(){var s=me()(Y()().mark(function d(){var m;return Y()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.prev=0,h.next=3,i.validateFields();case 3:m=h.sent,u==null||u(m),h.next=10;break;case 7:h.prev=7,h.t0=h.catch(0),console.log(h.t0);case 10:case"end":return h.stop()}},d,null,[[0,7]])}));return function(){return s.apply(this,arguments)}}();return(0,r.jsx)(Ke.ZP,{locale:Je.Z,children:(0,r.jsx)("div",{className:"edit-polygon-form-wrapper",children:(0,r.jsxs)(R.Z,y()(y()(y()({form:i},Wt),a),{},{onKeyDown:function(d){d.stopPropagation()},autoComplete:"off",children:[(0,r.jsx)(R.Z.Item,{name:"id",hidden:!0,children:(0,r.jsx)(W.Z,{placeholder:"\u8BF7\u8F93\u5165\u56F4\u680F\u540D\u79F0"})}),(0,r.jsx)(R.Z.Item,{name:"name",label:"\u540D\u79F0",rules:[{required:!0}],children:(0,r.jsx)(W.Z,{placeholder:"\u8BF7\u8F93\u5165\u56F4\u680F\u540D\u79F0"})}),(0,r.jsx)(R.Z.Item,{name:"lngLats",label:"\u5730\u7406\u56F4\u680F",rules:[{required:!0,validator:function(d,m){var g=m.split(`
`),h=g.map(function(j){return j.split(",")}),x=h.every(function(j){var P=j.every(function(Z){return/^(\-|\+)?\d+(\.\d+)?$/.test(Z)});if(j.length===2&&P)return!0});return x?Promise.resolve():Promise.reject(new Error("\u5750\u6807\u683C\u5F0F\u9519\u8BEF"))}}],children:(0,r.jsx)(W.Z.TextArea,{rows:4,placeholder:`\u8BF7\u8F93\u5165\u7ECF\u7EAC\u5EA6\u5750\u6807\u683C\u5F0F\u5982\u4E0B\uFF1A
114.069418,22.5562
114.068733,22.555665
114.070142,22.555208`})}),(0,r.jsx)(R.Z.Item,{name:"coord",label:"\u5750\u6807\u7CFB",rules:[{required:!0}],children:(0,r.jsxs)(_.Z,{placeholder:"\u8BF7\u9009\u62E9\u5750\u6807\u7CFB",children:[(0,r.jsx)(_.Z.Option,{value:"GCJ02",children:"\u706B\u661F\u5750\u6807\u7CFBGCJ02"}),(0,r.jsx)(_.Z.Option,{value:"BD09",children:"\u767E\u5EA6\u5750\u6807\u7CFBBD09"}),(0,r.jsx)(_.Z.Option,{value:"WGS84",children:"\u5730\u7403\u5750\u6807\u7CFBWGS84"})]})}),(0,r.jsx)("div",{className:"submit-btn-wrapper",children:(0,r.jsxs)(Ee.Z,{size:50,children:[(0,r.jsx)(H.ZP,{onClick:n,children:"\u53D6\u6D88"}),(0,r.jsx)(H.ZP,{type:"primary",onClick:l,children:"\u786E\u5B9A"})]})})]}))})})},Yt=Ut,te=null,De=null,Ht=function(){function f(v,c){ue()(this,f),p()(this,"infoWindowContainerId","amp-edit-form-info-window"),p()(this,"options",void 0),p()(this,"type",void 0),this.type=v,this.options=c,this.createInfoWindowContainer()}return se()(f,[{key:"createInfoWindowContainer",value:function(){if(!te){var c;te=new AMap.InfoWindow({isCustom:!0,content:"<div id='".concat(this.infoWindowContainerId,"'></div>"),anchor:"bottom-center",offset:new AMap.Pixel(2,-20),autoMove:!1,closeWhenClickMap:!0});var u=window.baseMap.getInstance();(c=te)===null||c===void 0||c.open(u,[0,0]),te.close()}}},{key:"close",value:function(){var c;(c=te)===null||c===void 0||c.close()}},{key:"destroyed",value:function(){var c,u;(c=te)===null||c===void 0||c.close(),(u=De)===null||u===void 0||u.unmount(),De=null}},{key:"render",value:function(c){var u,e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=c.coordinates,o=c.fieldsForm,i=window.baseMap.getInstance();if((u=te)!==null&&u!==void 0&&u.getIsOpen()||a){var n;(n=te)===null||n===void 0||n.open(i,t)}var l=document.getElementById(this.infoWindowContainerId);!De&&l&&(De=Rt.createRoot(l)),(e=De)===null||e===void 0||e.render(this.form(o))}},{key:"form",value:function(c){var u=this;return this.type==="circle"?(0,r.jsx)(Kt,y()(y()({},c),{},{onFinish:function(a){var t;u.close(),(t=u.options)===null||t===void 0||t.onFinish(a)},onCancel:function(){var a;(a=te)===null||a===void 0||a.close()}})):this.type==="polygon"?(0,r.jsx)(Yt,y()(y()({},c),{},{onFinish:function(a){var t;u.close(),(t=u.options)===null||t===void 0||t.onFinish(a)},onCancel:function(){var a;(a=te)===null||a===void 0||a.close()}})):null}}]),f}(),We=Ht,zt=A(97762),fe=function(){function f(v){ue()(this,f),p()(this,"option",{}),p()(this,"data",void 0),p()(this,"idsData",void 0),p()(this,"PointComponent",function(){return(0,r.jsx)("div",{className:"do-map-editpoint",children:(0,r.jsx)("span",{className:"circle"})})}),this.option=v,this.data=[],this.idsData={}}return se()(f,[{key:"getMarker",value:function(c){return this.idsData[c]}},{key:"createPoint",value:function(c,u,e){var a=this.option.map;if(a){var t=zt.renderToString((0,r.jsx)(this.PointComponent,{})),o=new AMap.Marker({position:c,content:t,bubble:!0,draggable:!0,clickable:!1,offset:new AMap.Pixel(-5,-5)});a.add(o),this.data.push(o),e&&(this.idsData[e]=o),o.on("dragging",function(i){u(i,"dragging")}),o.on("dragend",function(i){u(i,"dragend")})}}},{key:"clear",value:function(){this.data.map(function(c){c.remove()})}}]),f}(),Be={"background-color":"#FFFFFF",color:"rgba(2,4,13,0.85)"},Xt=function(f){be()(c,f);var v=ke()(c);function c(u){var e;ue()(this,c),e=v.call(this,{map:u.map}),p()(F()(e),"option",void 0),p()(F()(e),"data",{}),p()(F()(e),"operationId",""),p()(F()(e),"drawToolCircle",{}),p()(F()(e),"debounceTimeout",void 0),p()(F()(e),"circleStyle",{bubble:!0,zIndex:100,strokeWeight:2,strokeColor:"#1959EC",fillColor:"#1959EC",fillOpacity:.08}),p()(F()(e),"fitView",[200,200,200,200]),p()(F()(e),"dataLeng",1),p()(F()(e),"editForm",void 0),p()(F()(e),"stopDraw",function(){var t=e.option.map;e.state===O.Drawing&&(e.operationId&&(e.setInteriorData(e.operationId,e.drawToolCircle),e.removeItemData(e.operationId)),t.off("click",e.drawEnd),document.removeEventListener("mousemove",e.drawMousemove),e.setDrawState(O.Fulfill))}),p()(F()(e),"drawMousemove",function(t){if(t.lnglat&&e.state===O.Drawing){var o=[t.lnglat.lng,t.lnglat.lat];e.updateCircleInformation(e.drawToolCircle,{circle:o,centerMarket:o,line:[o,e.getRightBearingCoordinates(o)]}),e.drawTooltip.setData({position:o,text:"\u70B9\u51FB\u9009\u62E9\u4E2D\u5FC3\u70B9"})}}),p()(F()(e),"drawEnd",function(t){var o=e.option.map;e.setDrawState(O.Fulfill),Object.keys(e.data).length===0&&e.dataLeng===1||(e.dataLeng+=1);var i=e.operationId;e.setInteriorData(e.operationId,y()(y()({},e.drawToolCircle),{},{id:e.operationId,editPoint:new fe({map:o}),areaTooltip:new ne({map:o,style:Be,offset:[50,0],className:"area-tooltip",onEdit:function(d){e.onEdit(d,i)}}),centerTooltip:new ne({map:o,style:Be,offset:[0,-30],className:"area-tooltip"}),name:"\u5706\u5F62\u56F4\u680F".concat(e.dataLeng)}));var n="ontouchstart"in window||navigator.maxTouchPoints;if(n){var l=[t.lnglat.lng,t.lnglat.lat];e.updateCircleInformation(e.drawToolCircle,{circle:l,centerMarket:l,line:[l,e.getRightBearingCoordinates(l)]})}e.createEditPointAndAreaTooltip(e.operationId),o.off("click",e.drawEnd),o.setFitView([e.drawToolCircle.circle],!1,e.fitView),console.log("fitView",e.fitView),e.notificationFenceData(),e.rightclickDeleteMenu(e.operationId)}),p()(F()(e),"drawCircle",function(t,o,i){var n=e.operationId,l=e.option.map,s=new AMap.Circle(y()(y()({radius:o,center:t.length?t:null},e.circleStyle),i)),d=new AMap.Marker({center:t.length?t:null,icon:"https://static.igeekee.cn/ekeliu-static/gap/poi_min.png",bubble:!0,draggable:!0,anchor:"center",clickable:!1,offset:[0,-8]});d.on("dragging",function(g){e.centerMarketDragging(g,n)}),t.length===0&&d.hide();var m=new AMap.Polyline({strokeStyle:"dashed",strokeColor:"#1959EC",strokeOpacity:1,strokeDasharray:[7,7]});return l.add([s,d,m]),{circle:s,centerMarket:d,line:m}}),p()(F()(e),"centerMarketDragging",function(t,o){var i=t.target._position,n=e.getInteriorData(o);if(n&&n.editPoint&&n.circle){var l,s,d,m=n.editPoint.getMarker(o),g=e.getBearingPosition(i,n.circle.getRadius(),m.__bearing);m.setPosition(g),e.updateCircleInformation(n,{circle:i,centerMarket:i,line:[i,g]});var h=(0,xe.m)((0,ee.xm)(g),60/1e3,90,{units:"kilometers"});(l=n.areaTooltip)===null||l===void 0||l.setData({position:g,text:`
        <div style='text-align:start;'>`.concat(n.name,`
         <div>\u534A\u5F84:`).concat((s=n.circle)===null||s===void 0?void 0:s.getRadius().toFixed(0),`m <i class='iconfont-1'>&#xe67c;</i></div>
        </div>
       `)}),e.editForm.render({coordinates:g,fieldsForm:{initialValues:{id:n.id,center:i,name:n.name}}});var x=n.circle.getCenter(),j=x.lat,P=x.lng;(d=n.centerTooltip)===null||d===void 0||d.setData({position:i,text:"".concat(P,",").concat(j)}),e.debounceTimeout&&clearTimeout(e.debounceTimeout),e.debounceTimeout=setTimeout(function(){e.notificationFenceData()},500)}}),p()(F()(e),"createEditPointAndAreaTooltip",function(t){if(t&&e.data[t]){var o,i=F()(e),n=e.getInteriorData(t),l=n==null||(o=n.circle)===null||o===void 0?void 0:o.getCenter();if(n!=null&&n.editPoint&&l){var s,d,m,g,h,x,j=function(M,ae){var J,q,B,ie,k,U,$;if(!(!n||!n.circle)){var ce=n.circle.getCenter(),oe=[ce.lng,ce.lat],I=M.target._position,w=(0,Mt.T)((0,ee.xm)(oe),(0,ee.xm)(I),{units:"kilometers"})*1e3;n==null||(J=n.circle)===null||J===void 0||J.setRadius(w);var Q=(0,Nt.Y)(oe,I),S=n==null||(q=n.editPoint)===null||q===void 0?void 0:q.getMarker(t);S.__bearing=Q,n==null||(B=n.line)===null||B===void 0||B.setPath([oe,I]);var ge=(0,xe.m)((0,ee.xm)(I),60/1e3,90,{units:"kilometers"});n==null||(ie=n.areaTooltip)===null||ie===void 0||ie.setData({position:I,text:`
            <div style='text-align:start;'>`.concat(n.name,`
             <div>\u534A\u5F84:`).concat((k=n.circle)===null||k===void 0?void 0:k.getRadius().toFixed(0),`m <i class='iconfont-1'>&#xe67c;</i></div>
            </div>
           `)}),i.editForm.render({coordinates:I,fieldsForm:{initialValues:{id:n.id,name:n==null?void 0:n.name,radius:n==null||(U=n.circle)===null||U===void 0?void 0:U.getRadius().toFixed(0)}}});var pe=ce.lat,he=ce.lng;if(n==null||($=n.centerTooltip)===null||$===void 0||$.setData({position:oe,text:"".concat(he,",").concat(pe)}),ae==="dragend"){var de,ye,re,Fe,je,Re,$e=i.checkArea(t);if(!$e){i.notificationFenceData();return}var _e=i.option,Cn=_e.maxRadius,Dn=_e.minRadius,et=$e==="max"?Cn:Dn,Se=(0,xe.m)((0,ee.xm)(oe),et/1e3,Q,{units:"kilometers"}).geometry.coordinates;n==null||(de=n.circle)===null||de===void 0||de.setRadius(et),n==null||(ye=n.line)===null||ye===void 0||ye.setPath([oe,Se]),S==null||S.setPosition(Se),n==null||(re=n.areaTooltip)===null||re===void 0||re.setData({position:Se,text:`
              <div style='text-align:start;'>`.concat(n.name,`
               <div>\u534A\u5F84:`).concat((Fe=n.circle)===null||Fe===void 0?void 0:Fe.getRadius().toFixed(0),`m <i class='iconfont-1'>&#xe67c;</i></div>
              </div>
             `)}),i.editForm.render({coordinates:Se,fieldsForm:{initialValues:{name:n==null?void 0:n.name,id:n.id,radius:n==null||(je=n.circle)===null||je===void 0?void 0:je.getRadius().toFixed(0)}}}),n==null||(Re=n.centerTooltip)===null||Re===void 0||Re.setData({position:oe,text:"".concat(he,",").concat(pe)}),i.notificationFenceData()}}},P=[l.lng,l.lat],Z=e.getRightBearingCoordinates(P,(s=n.circle)===null||s===void 0?void 0:s.getRadius());n.editPoint.createPoint(Z,j,t);var N=(0,xe.m)((0,ee.xm)(Z),60/1e3,90,{units:"kilometers"}),b=(d=n.editPoint)===null||d===void 0?void 0:d.getMarker(t);b.__bearing=90,(m=n.areaTooltip)===null||m===void 0||m.setData({position:Z,text:`
        <div style='text-align:start;'>`.concat(n.name,`
         <div>\u534A\u5F84:`).concat((g=n.circle)===null||g===void 0?void 0:g.getRadius().toFixed(0),`m <i class='iconfont-1'>&#xe67c;</i></div>
        </div>
       `)}),e.editForm.render({coordinates:Z,fieldsForm:{initialValues:{id:n.id,radius:(h=n.circle)===null||h===void 0?void 0:h.getRadius().toFixed(0),name:n.name}}});var L=l.lat,X=l.lng;(x=n.centerTooltip)===null||x===void 0||x.setData({position:P,text:"".concat(X,",").concat(L)})}}}),p()(F()(e),"checkArea",function(t){var o=e.option.map,i=e.getInteriorData(t);if(i&&i.circle){var n=e.option,l=n.minRadius,s=n.maxRadius,d=i.circle.getRadius();if(l&&d<l)return E.ZP.info("\u53EF\u8C03\u534A\u5F84\u8303\u56F4\uFF1A".concat(l," ~ ").concat(s," \u7C73")),"min";if(s&&d>s)return E.ZP.info("\u53EF\u8C03\u534A\u5F84\u8303\u56F4\uFF1A".concat(l," ~ ").concat(s," \u7C73")),"max"}return!1}),p()(F()(e),"rightclickDeleteMenu",function(t){var o=e.option.map,i=new AMap.ContextMenu,n=e.data[t].circle;n&&(i.addItem("\u5220\u9664\u56F4\u680F",function(){e.removeItemData(t),i.clearEvents("rightclick"),i.close(),e.notificationFenceData()},0),n.on("rightclick",function(l){i.open(o,l.lnglat)}))}),p()(F()(e),"getInteriorData",function(t){return e.data[t]}),p()(F()(e),"closeEdit",function(){var t=Object.keys(e.data);t.map(function(o){var i,n=e.data[o];(i=n.editPoint)===null||i===void 0||i.clear()})});var a=F()(e);return e.editForm=new We("circle",{onFinish:function(o){var i,n,l=o.center,s=o.coord,d=o.radius,m=o.name,g=o.id,h=l.split(",").map(function(N){return Number(N)}),x=z.Z.transform(h,z.Z[s],z.Z.GCJ02);console.log("that.getDataSource",a.getDataSource());var j=a.data[g];j.name=m,(i=j.circle)===null||i===void 0||i.setCenter(x),(n=j.circle)===null||n===void 0||n.setRadius(d),a.setSource({circle:a.getDataSource()}),a.notificationFenceData();var P=a.option.map,Z=P.getAllOverlays("circle");P.setFitView(Z,!0)}}),e.option=u,e}return se()(c,[{key:"draw",value:function(){var e=this.option,a=e.map,t=e.defaultRadius;this.state!==O.Drawing&&(this.operationId=this.getId(),this.setDrawState(O.Drawing),document.addEventListener("mousemove",this.drawMousemove),a.on("click",this.drawEnd),this.drawToolCircle=this.drawCircle([],t,{bubble:!0}))}},{key:"onEdit",value:function(e,a){var t,o,i=this.option.map,n=e.target.getPosition(),l=n.lng,s=n.lat;i.panTo(n),i.panBy(0,90,0),console.log("e",e),console.log("onEdit - id ",a),i.panBy(0,0,0);var d=(t=this.getInteriorData(a))===null||t===void 0?void 0:t.circle;this.editForm.render({coordinates:[l,s],fieldsForm:{initialValues:{id:a,center:d.getCenter(),coord:"GCJ02",radius:d.getRadius(),name:(o=this.getInteriorData(a))===null||o===void 0?void 0:o.name}}},!0)}},{key:"edit",value:function(){var e,a=this.getInteriorData(this.operationId),t=a==null||(e=a.areaTooltip)===null||e===void 0?void 0:e.amapText;t&&this.onEdit({target:t,id:a.id},a.id)}},{key:"updateCircleInformation",value:function(e,a){e.circle&&a.circle&&e.circle.setCenter(a.circle),e.line&&a.line&&e.line.setPath(a.line),e.centerMarket&&a.centerMarket&&(e.centerMarket.setPosition(a.centerMarket),e.centerMarket.show())}},{key:"getBearingPosition",value:function(e,a,t){var o=(0,ee.xm)(e),i=(0,Tt.P)(o,a/1e3,t,{units:"kilometers"});return i.geometry.coordinates}},{key:"getRightBearingCoordinates",value:function(e,a){var t=(0,ee.xm)(e),o=a||this.option.defaultRadius,i=o/1e3,n=90,l=(0,xe.m)(t,i,n,{units:"kilometers"});return l.geometry.coordinates}},{key:"setSource",value:function(e){var a=this,t,o=e.circle,i=Object.keys(this.data);i.map(function(n){a.removeItemData(n)}),o&&o.length&&o.map(function(n){a.addItemData(n)}),this.dataLeng=((t=e.circle)===null||t===void 0?void 0:t.length)||0}},{key:"getDataSource",value:function(){var e=this,a=[],t=Object.keys(this.data);return t.map(function(o){var i=e.data[o];if(i.circle){var n=i.circle.getCenter(),l=[n.lng,n.lat];a.push({content:l,radius:i.circle.getRadius().toFixed(0),name:i.name})}}),a}},{key:"notificationFenceData",value:function(){var e=this,a=[],t=Object.keys(this.data);t.map(function(o){var i=e.data[o];if(i.circle){var n=i.circle.getCenter(),l=[n.lng,n.lat];a.push({content:l,radius:i.circle.getRadius().toFixed(0),name:i.name,id:i.id})}}),this.option.eventManager.triggerEvent("_changeInterioreData",{circle:a})}},{key:"addItemData",value:function(e,a){var t=this,o=this.option.map;this.operationId=this.getId();var i=this.drawCircle(e.content,e.radius,{bubble:!0}),n=this.operationId;this.setInteriorData(this.operationId,y()(y()({},i),{},{editPoint:new fe({map:o}),areaTooltip:new ne({map:o,style:Be,className:"area-tooltip",offset:[50,0],onEdit:function(s){console.log("Tooltip id",n),t.onEdit(s,n)}}),centerTooltip:new ne({map:o,style:Be,className:"area-tooltip",offset:[0,-30]}),name:e.name,id:n})),this.updateCircleInformation(this.getInteriorData(this.operationId),{circle:e.content,centerMarket:e.content,line:[e.content,this.getRightBearingCoordinates(e.content,e.radius)]}),this.createEditPointAndAreaTooltip(this.operationId),this.rightclickDeleteMenu(this.operationId),a&&a.move&&o.setFitView([i.circle],!0)}},{key:"removeItemData",value:function(e){var a=this.getInteriorData(e),t=this.option.map;a&&(a.circle&&t.remove(a.circle),a.line&&t.remove(a.line),a.centerMarket&&(a.centerMarket.hide(),t.remove(a.centerMarket)),a.areaTooltip&&(a.areaTooltip.hide(),a.areaTooltip.remove()),a.centerTooltip&&(a.centerTooltip.hide(),a.centerTooltip.remove()),a.editPoint&&a.editPoint.clear(),delete this.data[e])}},{key:"setInteriorData",value:function(e,a){this.data[e]=y()(y()({},this.data[e]),a)}},{key:"setFitView",value:function(e){var a=this;if(e){var t=this.option.map,o=[],i=Object.keys(this.data);i.map(function(n){var l=a.data[n];l.circle&&o.push(l.circle)}),this.fitView=e,t==null||t.setFitView(o,!1,e)}}},{key:"onDestroyed",value:function(){var e=this,a=[],t=Object.keys(this.data);t.map(function(o){e.removeItemData(o)})}}]),c}(Me),qt=A(48970),Ue=A(4658),$t={"background-color":"#FFFFFF",color:"rgba(2,4,13,0.85)"},Ye={fillColor:"#1959EC",fillOpacity:.08,strokeColor:"#4D6AFF"},_t=function(f){be()(c,f);var v=ke()(c);function c(u){var e;ue()(this,c),e=v.call(this,{map:u.map}),p()(F()(e),"option",void 0),p()(F()(e),"data",{}),p()(F()(e),"operationId",""),p()(F()(e),"debounceTimeout",void 0),p()(F()(e),"dataLeng",0),p()(F()(e),"polygonStyle",Ye),p()(F()(e),"editForm",void 0),p()(F()(e),"drawMark",function(t){if(!(!t||!t.lnglat)){var o=e.option.map,i="ontouchstart"in window||navigator.maxTouchPoints,n=e.getInteriorData(e.operationId),l=[t.lnglat.lng,t.lnglat.lat];if(n&&n.polygon===void 0){var s=[l],d=new AMap.Polygon(y()({bubble:!0,path:s},e.polygonStyle));e.setInteriorData(e.operationId,{polygon:d});var m=s.length-1;e.createEditPoint(l,e.getInteriorData(e.operationId),m),o.add(d)}else if(n&&n.polygon){var g,h=(g=n.polygon.getPath())===null||g===void 0?void 0:g.concat([[t.lnglat.lng,t.lnglat.lat]]);n.polygon.setPath(h);var x=h.length-2;i&&(x=h.length-1),e.createEditPoint(l,n,x)}}}),p()(F()(e),"drawMousemove",function(t){var o;if(t.lnglat&&e.state===O.Drawing){var i=e.getInteriorData(e.operationId),n=i&&i.polygon&&((o=i.polygon.getPath())===null||o===void 0?void 0:o.length),l=[t.lnglat.lng,t.lnglat.lat];if(n){var s,d,m=i.polygon.getPath();if(((s=m)===null||s===void 0?void 0:s.length)===1){var g;m=(g=i.polygon.getPath())===null||g===void 0?void 0:g.concat([l])}else m[m.length-1]=l;(d=i.polygon)===null||d===void 0||d.setPath(m)}var h="\u70B9\u51FB\u653E\u7F6E\u9996\u4E2A\u9876\u70B9";if(n){var x=i.polygon.getPath();(x==null?void 0:x.length)===2&&(h="\u70B9\u51FB\u7EE7\u7EED\u7ED8\u5236"),(x==null?void 0:x.length)>2&&(h="\u53CC\u51FB\u5B8C\u6210\u7ED8\u5236")}if(e.drawTooltip.setData({position:l,text:h}),n&&i.areaTooltip){var j=e.getPolygonPath(i.polygon);e.changeAreaTooltip(j,i.areaTooltip,i.id)}}}),p()(F()(e),"drawEnd",function(){var t=e.option.map;e.setDrawState(O.Fulfill),t.off("click",e.drawMark),t.off("dblclick",e.drawEnd),Object.keys(e.data).length===0&&e.dataLeng===1||(e.dataLeng+=1);var o=e.getInteriorData(e.operationId);if(o&&(o.name="\u591A\u8FB9\u5F62\u56F4\u680F".concat(e.dataLeng)),o&&o.polygon){var i,n=o.polygon.getPath();try{var l=n[n.length-1],s=n[n.length-2];if(s&&JSON.stringify(s)===JSON.stringify(l)){var d;n.splice(n.length-1,n.length),(d=o.polygon)===null||d===void 0||d.setPath(n)}}catch(m){console.log("err - drawEnd \u5904\u7406\u591A\u8FB9\u5F62\u56F4\u680F\u6700\u540E\u4E00\u4E2A\u6570\u636E ")}(i=o.editPoint)===null||i===void 0||i.clear(),n.map(function(m,g){return e.createEditPoint([m.lng,m.lat],o,g),""}),setTimeout(function(){t.setStatus({doubleClickZoom:!0})},500)}document.removeEventListener("mousemove",e.drawMousemove),e.checkArea(e.operationId)&&(e.rightclickDeleteMenu(e.operationId),e.notificationFenceData(),e.changeAreaTooltip(e.getPolygonPath(o.polygon),o.areaTooltip,o.id))}),p()(F()(e),"checkArea",function(t){var o=e.option,i=o.minArea,n=o.maxArea,l=e.getInteriorData(t);if(!(!l||l&&!l.polygon)){var s=l.polygon.getPath(),d=AMap.GeometryUtil.ringArea(s);return d<i?(console.log("\u5F53\u524D\u9762\u79EF"+d+"\u592A\u5C0F\u4E86"),E.ZP.info("\u591A\u8FB9\u5F62\u9762\u79EF\u8303\u56F4\uFF1A \u2264  ".concat(n/1e6," k\u33A1")),e.removeItemData(t),e.notificationFenceData(),!1):d>n?(console.log("\u5F53\u524D\u9762\u79EF"+d+"\u592A\u5927\u4E86"),E.ZP.info("\u591A\u8FB9\u5F62\u9762\u79EF\u8303\u56F4\uFF1A \u2264 ".concat(n/1e6," k\u33A1")),e.removeItemData(t),e.notificationFenceData(),!1):!0}}),p()(F()(e),"createEditPoint",function(t,o,i){o&&o.editPoint&&o.editPoint.createPoint(t,function(n){if(o.polygon){var l=o.polygon.getPath(),s=n.target._position;l[i]=new AMap.LngLat(s[0],s[1]),o.polygon.setPath(l);var d=e.getPolygonPath(o.polygon);console.log("createEditPoint",o.id),e.changeAreaTooltip(d,o.areaTooltip,o.id),e.debounceTimeout&&clearTimeout(e.debounceTimeout),e.debounceTimeout=setTimeout(function(){e.notificationFenceData()},400)}})}),p()(F()(e),"changeAreaTooltip",function(t,o,i){var n;if(!(!o||t.length<3)){var l=JSON.parse(JSON.stringify(t));JSON.stringify([0])!==JSON.stringify(t[t.length-1])&&l.push(t[0]);var s=(0,ee.yu)([l]),d=(0,qt.S)(s),m=(0,Ue.c9)(d),g=AMap.GeometryUtil.ringArea(l),h=e.getInteriorData(i).name,x="";g>1e4?x=`  
        <div style='text-align:start;'>
          `.concat(h||"",` 
          <div>  \u9762\u79EF\uFF1A `).concat((g/1e6).toFixed(2),`k\u33A1 <i class='iconfont-1'>&#xe67c;</i></div>
        </div> 
     `):x=` 
         <div style='text-align:start;'>
            `.concat(h||"",` 
          <div>  \u9762\u79EF\uFF1A `).concat(g.toFixed(2),`\u33A1 <i class='iconfont-1'>&#xe67c;</i></div>
        </div> 
       `),o.setData({position:m,text:x});var j=e.getInteriorData(i).polygon;console.log("changeAreaTooltip",i),e.editForm.render({coordinates:m,fieldsForm:{initialValues:{id:i,lngLats:(n=j.getPath())===null||n===void 0?void 0:n.map(function(P){return P.toString()}).join(`
`),name:h}}})}}),p()(F()(e),"rightclickDeleteMenu",function(t){var o=e.option.map,i=new AMap.ContextMenu,n=e.data[t].polygon;n&&(i.addItem("\u5220\u9664\u56F4\u680F",function(){e.removeItemData(t),i.clearEvents("rightclick"),i.close(),e.notificationFenceData()},0),n.on("rightclick",function(l){i.open(o,l.lnglat)}))}),p()(F()(e),"stopDraw",function(){var t=e.option.map;e.state===O.Drawing&&(e.operationId&&e.removeItemData(e.operationId),t.off("click",e.drawMark),document.removeEventListener("mousemove",e.drawMousemove),t.off("dblclick",e.drawEnd),e.setDrawState(O.Fulfill))}),p()(F()(e),"getPolygonPath",function(t){return JSON.parse(JSON.stringify(t.getPath().map(function(o){return[o.lng,o.lat]})))}),p()(F()(e),"getInteriorData",function(t){return e.data[t]}),p()(F()(e),"closeEdit",function(){var t=Object.keys(e.data);t.map(function(o){var i,n=e.data[o];return(i=n.editPoint)===null||i===void 0||i.clear(),""})}),p()(F()(e),"getPolygons",function(){if(e.option.map){var t=[],o=Object.keys(e.data);return o.map(function(i){var n=e.data[i];n.polygon&&t.push(n.polygon)}),t}return[]}),e.option=u,u.style&&(e.polygonStyle=y()(y()({},Ye),u.style));var a=F()(e);return e.editForm=new We("polygon",{onFinish:function(o){var i,n=o.lngLats,l=o.coord,s=o.name,d=o.id;a.data[d].name=s;var m=n.split(`
`),g=m.map(function(j){return z.Z.transform(j.split(",").map(function(P){return Number(P)}),z.Z[l],z.Z.GCJ02)});(i=a.data[d].polygon)===null||i===void 0||i.setPath(g),a.setSource({polygon:a.getDataSource()}),a.notificationFenceData();var h=a.option.map,x=h.getAllOverlays("polygon");console.log("overlay",x),h.setFitView(x,!0)}}),e}return se()(c,[{key:"onEdit",value:function(e,a){var t,o,i=this.option.map,n=e.target.getPosition(),l=n.lng,s=n.lat;i.panTo(n),i.panBy(0,90,0),i.panBy(0,0,0);var d=this.getInteriorData(a).polygon,m=(t=this.getInteriorData(a))===null||t===void 0?void 0:t.name;this.editForm.render({coordinates:[l,s],fieldsForm:{initialValues:{id:a,lngLats:(o=d.getPath())===null||o===void 0?void 0:o.map(function(g){return g.toString()}).join(`
`),coord:"GCJ02",name:m}}},!0)}},{key:"edit",value:function(){var e,a=this.getInteriorData(this.operationId),t=a==null||(e=a.areaTooltip)===null||e===void 0?void 0:e.amapText;console.log("editedit"),t&&this.onEdit({target:t},a.id)}},{key:"draw",value:function(){var e=this,a=this.option.map;console.log("this.state === DrawState.Drawing",this.state===O.Drawing),this.state===O.Drawing&&this.stopDraw(),this.setDrawState(O.Drawing),a.setStatus({doubleClickZoom:!1}),this.operationId=this.getId(),a.on("click",this.drawMark),document.addEventListener("mousemove",this.drawMousemove),a.on("dblclick",this.drawEnd);var t=this.operationId;this.setInteriorData(this.operationId,{editPoint:new fe({map:a}),id:this.operationId,areaTooltip:new ne({map:a,className:"do-com-maptooltip-area area-tooltip",onEdit:function(i){e.onEdit(i,t)}})})}},{key:"setSource",value:function(e){var a=this,t;console.log("setSource",e);var o=Object.keys(this.data);o.map(function(n){a.removeItemData(n)});var i=e.polygon;i&&i.length&&i.map(function(n){a.addItemData(n.path,n.name)}),this.dataLeng=((t=e.polygon)===null||t===void 0?void 0:t.length)||0}},{key:"getDataSource",value:function(){var e=this,a=[],t=Object.keys(this.data);return t.map(function(o){var i=e.data[o],n=e.getPolygonPath(i.polygon),l=n[n.length-1],s=n[0];JSON.stringify(s)!==JSON.stringify(l)&&n.push(s),a.push({path:n,name:i.name,id:i.id})}),a}},{key:"notificationFenceData",value:function(){var e=this,a=[],t=Object.keys(this.data);t.map(function(o){var i=e.data[o],n=e.getPolygonPath(i.polygon),l=n[n.length-1],s=n[0];JSON.stringify(s)!==JSON.stringify(l)&&n.push(s),a.push({path:n,id:i.id,name:i.name})}),this.option.eventManager.triggerEvent("_changeInterioreData",{polygon:a})}},{key:"addItemData",value:function(e,a,t){var o=this,i=this.option.map;this.operationId=this.getId();var n=this.operationId,l={polygon:new AMap.Polygon(y()({bubble:!0,path:e},this.polygonStyle)),editPoint:(t==null?void 0:t.editPoint)===!1?void 0:new fe({map:i}),areaTooltip:new ne({map:i,style:$t,offset:[0,0],className:"do-com-maptooltip-area area-tooltip",onEdit:function(d){o.onEdit(d,n)}}),name:a,id:n};this.setInteriorData(this.operationId,l),i.add(l.polygon),e.map(function(s,d){o.createEditPoint(s,o.getInteriorData(o.operationId),d)}),this.changeAreaTooltip(e,l.areaTooltip,n),this.rightclickDeleteMenu(this.operationId),t&&t.move&&i.setFitView([l.polygon],!0)}},{key:"removeItemData",value:function(e){var a=this.getInteriorData(e),t=this.option.map;!t||!a||(a.polygon&&t.remove(a.polygon),a.areaTooltip&&(a.areaTooltip.hide(),a.areaTooltip.remove()),a.editPoint&&a.editPoint.clear(),delete this.data[e])}},{key:"setInteriorData",value:function(e,a){this.data[e]=y()(y()({},this.data[e]),a)}},{key:"checkoutPolygons",value:function(){return!1}},{key:"onDestroyed",value:function(){var e=this,a=Object.keys(this.data);a.map(function(t){e.removeItemData(t)})}}]),c}(Me),en=A(74843),jn={"background-color":"#FFFFFF",color:"rgba(2,4,13,0.85)"},He={fillColor:"#1959EC",fillOpacity:.08,strokeColor:"#4D6AFF"},tn=function(f){be()(c,f);var v=ke()(c);function c(u){var e;return ue()(this,c),e=v.call(this,{map:u.map}),p()(F()(e),"option",void 0),p()(F()(e),"data",{}),p()(F()(e),"operationId",""),p()(F()(e),"debounceTimeout",void 0),p()(F()(e),"radiusWidth",void 0),p()(F()(e),"polygonStyle",He),p()(F()(e),"drawMark",function(a){if(!(!a||!a.lnglat)){var t=e.option.map,o="ontouchstart"in window||navigator.maxTouchPoints,i=e.getInteriorData(e.operationId),n=[a.lnglat.lng,a.lnglat.lat];if(i&&i.polyline===void 0){var l=[n],s=new AMap.Polyline({bubble:!0,strokeColor:"#1959ec",strokeWeight:3,path:l});e.setInteriorData(e.operationId,{polyline:s});var d=l.length-1;e.createEditPoint(n,e.getInteriorData(e.operationId),d),t.add(s)}else if(i&&i.polyline){var m,g=(m=i.polyline.getPath())===null||m===void 0?void 0:m.concat(new AMap.LngLat(a.lnglat.lng,a.lnglat.lat));i.polyline.setPath(g);var h=g.length-2;o&&(h=g.length-1),e.createEditPoint(n,i,h),e.updateBufferPolygon(i)}}}),p()(F()(e),"updateBufferPolygon",function(a){var t=a.polyline,o=a.polygon,i=e.getLinePath(t);if(!(i.length<2)&&o){var n=ee.Tu(i),l=e.radiusWidth?e.radiusWidth:50/1e3,s=en.f(n,l,{units:"kilometers"});if(s){var d=Ue.r7(s);o.setPath(d)}}}),p()(F()(e),"rightclickDeleteMenu",function(a){var t=e.option.map,o=new AMap.ContextMenu,i=e.data[a].polygon;i&&(o.addItem("\u5220\u9664\u56F4\u680F",function(){e.removeItemData(a),o.clearEvents("rightclick"),o.close(),e.notificationFenceData()},0),i.on("rightclick",function(n){o.open(t,n.lnglat)}))}),p()(F()(e),"setRadiusWidth",function(a){e.radiusWidth=a/1e3;var t=Object.keys(e.data);t.map(function(o){e.updateBufferPolygon(e.data[o])})}),p()(F()(e),"drawMousemove",function(a){var t;if(a.lnglat&&e.state===O.Drawing){var o=e.getInteriorData(e.operationId),i=o&&o.polyline&&((t=o.polyline.getPath())===null||t===void 0?void 0:t.length),n=[a.lnglat.lng,a.lnglat.lat];if(o.polyline){var l,s,d=o.polyline.getPath();if(((l=d)===null||l===void 0?void 0:l.length)===1){var m;d=(m=o.polyline.getPath())===null||m===void 0?void 0:m.concat(new AMap.LngLat(n[0],n[1]))}else d[d.length-1]=new AMap.LngLat(n[0],n[1]);(s=o.polyline)===null||s===void 0||s.setPath(d),e.updateBufferPolygon(o),d.length>=2&&e.changeAreaTooltip(o)}var g="\u70B9\u51FB\u653E\u7F6E\u9996\u4E2A\u9876\u70B9";if(i){var h=o.polyline.getPath();(h==null?void 0:h.length)===2&&(g="\u70B9\u51FB\u7EE7\u7EED\u7ED8\u5236"),(h==null?void 0:h.length)>2&&(g="\u53CC\u51FB\u5B8C\u6210\u7ED8\u5236")}e.drawTooltip.setData({position:n,text:g})}}),p()(F()(e),"drawEnd",function(){var a=e.option.map;e.setDrawState(O.Fulfill),a.off("click",e.drawMark),a.off("dblclick",e.drawEnd),document.removeEventListener("mousemove",e.drawMousemove);var t=e.getInteriorData(e.operationId);if(t&&t.polyline){var o,i=t.polyline.getPath();try{var n=i[i.length-1],l=i[i.length-2];if(l&&JSON.stringify(l)===JSON.stringify(n)){var s;i.splice(i.length-1,i.length),(s=t.polyline)===null||s===void 0||s.setPath(i)}}catch(d){console.log("err - drawEnd \u5904\u7406\u591A\u8FB9\u5F62\u56F4\u680F\u6700\u540E\u4E00\u4E2A\u6570\u636E ")}(o=t.editPoint)===null||o===void 0||o.clear(),i.map(function(d,m){e.createEditPoint([d.lng,d.lat],t,m)})}setTimeout(function(){a.setStatus({doubleClickZoom:!0})},500),e.notificationFenceData(),e.rightclickDeleteMenu(e.operationId)}),p()(F()(e),"checkArea",function(a){}),p()(F()(e),"createEditPoint",function(a,t,o){t&&t.editPoint&&t.editPoint.createPoint(a,function(i){if(t.polyline){var n=JSON.parse(JSON.stringify(t.polyline.getPath())),l=i.target._position;n[o]=new AMap.LngLat(l[0],l[1]),t.polyline.setPath(n),e.updateBufferPolygon(t),e.debounceTimeout&&clearTimeout(e.debounceTimeout),e.debounceTimeout=setTimeout(function(){e.notificationFenceData()},400)}})}),p()(F()(e),"changeAreaTooltip",function(a){}),p()(F()(e),"getLinePath",function(a){return a.getPath().length===0?[]:JSON.parse(JSON.stringify(a.getPath().map(function(t){return[t.lng,t.lat]})))}),p()(F()(e),"stopDraw",function(){var a=e.option.map;e.setDrawState(O.Fulfill),e.operationId&&e.removeItemData(e.operationId),a.off("click",e.drawMark),a.off("dblclick",e.drawEnd),document.removeEventListener("mousemove",e.drawMousemove)}),p()(F()(e),"getInteriorData",function(a){return e.data[a]}),p()(F()(e),"getPolygonPath",function(a){return JSON.parse(JSON.stringify(a.getPath().map(function(t){return[t.lng,t.lat]})))}),p()(F()(e),"closeEdit",function(){}),p()(F()(e),"getPolygons",function(){}),e.option=u,u.style&&(e.polygonStyle=y()(y()({},He),u.style)),u.radiusWidth&&(e.radiusWidth=u.radiusWidth/1e3),e}return se()(c,[{key:"draw",value:function(){var e=this.option.map;this.state===O.Drawing&&this.stopDraw(),this.setDrawState(O.Drawing),e.setStatus({doubleClickZoom:!1}),this.operationId=this.getId(),e.on("click",this.drawMark),document.addEventListener("mousemove",this.drawMousemove),e.on("dblclick",this.drawEnd);var a={editPoint:new fe({map:e}),areaTooltip:new ne({map:e,className:"do-com-maptooltip-area area-tooltip"}),polygon:new AMap.Polygon({bubble:!0,path:[],strokeWeight:0,fillColor:"#1959EC",fillOpacity:.18})};this.setInteriorData(this.operationId,a),e.add(a.polygon)}},{key:"removeItemData",value:function(e){var a=this.getInteriorData(e),t=this.option.map;!t||!a||(a.polygon&&t.remove(a.polygon),a.polyline&&t.remove(a.polyline),a.areaTooltip&&(a.areaTooltip.hide(),a.areaTooltip.remove()),a.editPoint&&a.editPoint.clear(),delete this.data[e])}},{key:"setSource",value:function(e){var a=this,t=Object.keys(this.data);t.map(function(i){a.removeItemData(i)});var o=e.polyline;o&&o.length&&o.map(function(i){a.addItemData(i)})}},{key:"notificationFenceData",value:function(){var e=this,a=[],t=Object.keys(this.data);t.map(function(o){var i,n=e.data[o],l=(i=n.polyline)===null||i===void 0?void 0:i.getPath(),s=[];l==null||l.map(function(d){s.push([d.lng,d.lat])}),a.push(s)}),this.option.eventManager.triggerEvent("_changeInterioreData",{polyline:a})}},{key:"addItemData",value:function(e){var a=this,t=this.option.map,o=this.getId(),i={editPoint:new fe({map:t}),areaTooltip:new ne({map:t,className:"do-com-maptooltip-area area-tooltip"}),polygon:new AMap.Polygon({bubble:!0,path:[],strokeWeight:0}),polyline:new AMap.Polyline({bubble:!0,strokeColor:"#1959ec",strokeWeight:3,path:e})};this.setInteriorData(o,i),t.add(i.polyline),t.add(i.polygon),this.updateBufferPolygon(i),e.map(function(n,l){a.createEditPoint(n,a.getInteriorData(o),l)}),this.rightclickDeleteMenu(o)}},{key:"setInteriorData",value:function(e,a){this.data[e]=y()(y()({},this.data[e]),a)}},{key:"checkoutPolygons",value:function(){return!1}},{key:"onDestroyed",value:function(){var e=this,a=Object.keys(this.data);a.map(function(t){e.removeItemData(t)})}}]),c}(Me),En=function(f){return f.CHANGEFENCEDATA="ChangeFenceData",f}({}),ze=function(f){be()(c,f);var v=ke()(c);function c(u){var e;return ue()(this,c),e=v.call(this),p()(F()(e),"data",{}),p()(F()(e),"polygon",void 0),p()(F()(e),"circle",void 0),p()(F()(e),"line",void 0),p()(F()(e),"eventManager",void 0),p()(F()(e),"disableClickPoi",void 0),p()(F()(e),"initState",!1),p()(F()(e),"option",{useRule:["polygon","circle","line"],circleOption:{},polygonOption:{},lineOption:{}}),p()(F()(e),"stopDraw",function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["circle","polygon","line"];a.map(function(t){var o=e[t];o&&o.state===O.Drawing&&o.stopDraw()})}),p()(F()(e),"draw",function(a){var t,o=e.option.useRule;o.includes(a)&&(e.stopDraw(),console.log("this[type]",e[a]),(t=e[a])===null||t===void 0||t.draw())}),p()(F()(e),"setSource",function(a){var t=e.option.useRule;e.data=a,t.map(function(o){if(e[o]){var i;e[o]&&((i=e[o])===null||i===void 0||i.setSource(a))}})}),p()(F()(e),"changeInterioreData",function(a){e.data=y()(y()({},e.data),a),(!e.data.circle||e.data.circle&&e.data.circle.length===0)&&delete e.data.circle,(!e.data.polygon||e.data.polygon&&e.data.polygon.length===0)&&delete e.data.polygon,e.eventManager.triggerEvent("change",e.data)}),p()(F()(e),"setFitView",function(a){e.circle&&a&&a.length&&e.circle.setFitView(a)}),p()(F()(e),"openClickPoiFence",function(){var a,t=(a=e.map)===null||a===void 0?void 0:a.getInstance();t&&t.on("hotspotclick",function(o){if(!e.disableClickPoi)try{var i;if(e.circle&&e.circle.state===O.Drawing||e.polygon&&e.polygon.state===O.Drawing)return;var n=(i=e.map)===null||i===void 0?void 0:i.getInstance().getZoom();if(console.log("zooms",n),n<15.2)return;if(o&&o.id&&o.lnglat){e.autoFence({id:o.id,lnglat:[o.lnglat.lng,o.lnglat.lat]});var l=new AMap.Marker({position:o.lnglat,anchor:"center",content:'<div class="map-circle-animation"> </div>'});t.add(l),setTimeout(function(){t.remove(l)},600)}}catch(s){}})}),p()(F()(e),"disableClickPoiFence",function(a){e.disableClickPoi=a}),p()(F()(e),"autoFence",function(){var a=me()(Y()().mark(function t(o){var i,n,l,s,d,m;return Y()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(i=o.lnglat,!(e.map&&e.initState===!1)){h.next=4;break}return h.next=4,e.onInitialMap();case 4:e.disableClickPoiFence(!0),n={data:{boundary_list:[["22.544491,114.056714","22.544554,114.061993","22.544563,114.062595","22.544545,114.062667","22.544516,114.062717","22.544458,114.062784","22.544358,114.062826","22.543011,114.062854","22.542969,114.06283","22.542933,114.062785","22.542905,114.062729","22.542885,114.062655","22.542846,114.060016","22.542749,114.057372","22.542778,114.056665","22.542784,114.056586","22.542802,114.056543","22.542828,114.056503","22.542863,114.056471","22.542915,114.056444","22.544243,114.05642","22.544349,114.056469","22.544409,114.056535","22.544462,114.056616","22.544491,114.056714"]]},errors:null,msg:"",code:0,ts:1730190960392,response_id:"b4549620-cb98-4b83-bc62-fb596dd1d0e4"},e.disableClickPoiFence(!1),n&&n.code===0&&n.data&&(l=n.data.boundary_list,console.log("autoFence",n),l&&l.length>0&&(d=l[0].map(function(x){return[Number(x.split(",")[1]),Number(x.split(",")[0])]}),m=e.data.polygon||[],m.push(d),console.log("data",d),(s=e.polygon)===null||s===void 0||s.addItemData(d,"asfasf",{editPoint:!1}),e.data=y()(y()({},e.data),{},{polygon:m}),e.changeInterioreData({polygon:m}),e.eventManager.triggerEvent("autoFence",e.data)));case 8:case"end":return h.stop()}},t)}));return function(t){return a.apply(this,arguments)}}()),e.eventManager=new Ve.Z,e.disableClickPoi=!1,e.option=u,e.eventManager.on("_changeInterioreData",e.changeInterioreData),e.onInitialMap(),e}return se()(c,[{key:"onInitialMap",value:function(){var u=me()(Y()().mark(function a(){var t,o,i;return Y()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(this.map=window.baseMap,!(!this.map||!window.AMap)){l.next=3;break}return l.abrupt("return");case 3:o=this.option.useRule,i=(t=this.map)===null||t===void 0?void 0:t.getInstance(),o.includes("polygon")&&(this.polygon=new _t(y()({map:i,minArea:1,maxArea:785e5,eventManager:this.eventManager},this.option.polygonOption))),o.includes("circle")&&(this.circle=new Xt(y()({map:i,defaultRadius:500,minRadius:10,maxRadius:5e3,eventManager:this.eventManager},this.option.circleOption))),o.includes("line")&&(this.line=new tn({map:i,minArea:1,maxArea:785e5,eventManager:this.eventManager})),this.option.clickPoiFence&&this.openClickPoiFence(),this.eventManager.triggerEvent("complete");case 10:case"end":return l.stop()}},a,this)}));function e(){return u.apply(this,arguments)}return e}()},{key:"on",value:function(e,a){this.eventManager.on(e,a)}},{key:"onDestroyed",value:function(){var e=this,a=this.option.useRule;this.eventManager=new Ve.Z,a.map(function(t){var o;e[t]&&e[t]&&((o=e[t])===null||o===void 0||o.onDestroyed())})}}]),c}(St.Q);p()(ze,"namespace","fence");var nn=ze,an=A(74330),on=(0,C.forwardRef)(function(v,c){var u=(0,C.useState)(""),e=G()(u,2),a=e[0],t=e[1];(0,C.useImperativeHandle)(c,function(){return{setInitActiveValue:function(){t("")}}});var o=[{img:A(71307),label:"\u753B\u5706\u5F62",value:"circle"},{img:A(29321),label:"\u753B\u591A\u8FB9\u5F62",value:"polygon"}];return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"map-data-wrapper",children:(0,r.jsx)(D.Z,{className:"do-fence-toggle",align:"center",children:o.map(function(i){return(0,r.jsxs)(D.Z,{align:"center",gap:2,className:"do-fence-toggle-item ".concat(i.value===a&&"active"),onClick:function(){if(v.selectLen>=1e4){E.ZP.info("\u6700\u591A\u53EA\u80FD\u9009\u62E910000\u4E2A\u5BF9\u8C61\u67E5\u8BE2");return}t(i.value),v.onChangeActive(i.value)},children:[(0,r.jsx)("img",{src:i.img}),(0,r.jsx)("span",{children:i.label})]},i.value)})})})})}),rn=`\u7ECF\u7EAC\u5EA6\u5750\u6807\u7C98\u8D34\u683C\u5F0F\u5982\u4E0B\uFF1A

108.951961, 34.256576
108.951962, 34.256577
108.951963, 34.256578

\u6216
[[108.954541, 34.259026],
[108.954542, 34.259027],
[108.954543, 34.259028]]`,Te={useRule:["polygon","circle"],circleOption:{defaultRadius:100,maxRadius:500,minRadius:10},polygonOption:{maxArea:.785*1e6}},we="crowd_fence",Xe="department_store";function ln(f){var v=f.close,c=f.parames,u=(0,C.useState)("circle"),e=G()(u,2),a=e[0],t=e[1],o=(0,C.useState)(1),i=G()(o,2),n=i[0],l=i[1],s=(0,C.useState)(""),d=G()(s,2),m=d[0],g=d[1],h=(0,C.useRef)(null),x=(0,C.useRef)([Xe]),j=(0,C.useRef)(null),P=(0,C.useRef)({polygon:c.fence.polygon,circle:c.fence.circle}),Z=(0,C.useRef)([]),N=(0,C.useState)({center:"",radius:""}),b=G()(N,2),L=b[0],X=b[1],T=(0,C.useState)(""),M=G()(T,2),ae=M[0],J=M[1],q=function(w){switch(n){case 2:return z.Z.transform(w,z.Z.GCJ02,z.Z.WGS84);case 3:return z.Z.transform(w,z.Z.GCJ02,z.Z.BD09)}return w},B=function(){var w,Q,S=L,ge=(w=window.baseMap)===null||w===void 0?void 0:w.getExtensiont(we);if(S.center&&S.center.split(",").length!==2){E.ZP.info("\u8BF7\u8F93\u5165\u6B63\u786E\u5706\u5FC3\u5750\u6807");return}if(!Number(S.radius)){E.ZP.info("\u8BF7\u8F93\u5165\u6B63\u786E\u534A\u5F84\u4FE1\u606F");return}if(S.radius&&Number(S.radius)>Te.circleOption.maxRadius){E.ZP.info("\u5706\u5F62\u534A\u5F84\u4E0D\u80FD\u5927\u4E8E".concat(Te.circleOption.maxRadius," \u7C73"));return}if(!m){E.ZP.info("\u8BF7\u8F93\u5165\u56F4\u680F\u540D\u79F0");return}S={content:q(S.center.split(",")),radius:Number(S.radius),name:m},(Q=ge.circle)===null||Q===void 0||Q.addItemData(S,{move:!0}),X({center:"",radius:""})},ie=function(){var w,Q=(w=window.baseMap)===null||w===void 0?void 0:w.getExtensiont(we),S=ae;if(!S){E.ZP.info("\u8BF7\u8F93\u5165\u591A\u8FB9\u5F62\u56F4\u680F\u6570\u636E");return}if(!m){E.ZP.info("\u8BF7\u8F93\u5165\u56F4\u680F\u540D\u79F0");return}if(S.indexOf("[[")!==-1)try{var ge,pe=JSON.parse(S);pe=pe.map(function(re){return q(re)}),(ge=Q.polygon)===null||ge===void 0||ge.addItemData(pe,m,{move:!0}),J(""),g("")}catch(re){return E.ZP.info("\u8BF7\u8F93\u5165\u6B63\u786E\u6570\u636E\u683C\u5F0F")}else try{var he,de=S.split(`
`),ye=!1;if(de=de.map(function(re){var Fe=re.trim().split(",");return Fe.length!==2&&(ye=!0),q(Fe.map(function(je){return Number(je)}))}),ye)return E.ZP.info("\u8BF7\u8F93\u5165\u6B63\u786E\u6570\u636E\u683C\u5F0F");console.log("list",de),(he=Q.polygon)===null||he===void 0||he.addItemData(de,m,{move:!0}),J(""),g("")}catch(re){E.ZP.info("\u8BF7\u8F93\u5165\u6B63\u786E\u6570\u636E\u683C\u5F0F")}},k=function(){a==="circle"&&B(),a==="polygon"&&ie(),g("")},U=function(){var w,Q=(w=window.baseMap)===null||w===void 0?void 0:w.getExtensiont(we);Q.setSource({}),P.current={polygon:[],circle:[]}};(0,C.useEffect)(function(){return h.current=window.baseMap,window.baseMap.initMap({container:"map-container"}),window.baseMap.on("complete",function(){var I=window.baseMap.registerExtension(we,new nn(Te));setTimeout(function(){var w,Q=(w=window.baseMap)===null||w===void 0?void 0:w.getExtensiont("crowd-task");c&&c.shop&&c.shop.length&&(Q.checkboxList=c.shop,Q.setCheckboxList(c.shop),c.shop.forEach(function(S){Q.renderPoiItem(y()(y()({},S),{},{name:S.name,checked:!0,path:S.path}))}))},100),I==null||I.on("change",function(w){w.circle&&(P.current.circle=w.circle),w.polygon&&(P.current.polygon=w.polygon),j.current.setInitActiveValue()}),I.setSource(c.fence)}),function(){var I;(I=h.current)===null||I===void 0||I.destroy()}},[]);var $=function(){f.onOk({fence:P.current,shop:Z.current})},ce=function(w){var Q;console.log("data",w);var S=(Q=window.baseMap)===null||Q===void 0?void 0:Q.getExtensiont(we);S==null||S.draw(w)},oe=function(w){x.current=w};return(0,r.jsx)(Ie.Z,{maskClosable:!1,width:1280,className:"do-com-modal do-modal-fence",title:"\u5708\u9009\u5730\u7406\u56F4\u680F",open:!0,onOk:$,onCancel:function(){v()},children:(0,r.jsx)(an.Z,{spinning:!1,children:(0,r.jsxs)(D.Z,{gap:20,children:[(0,r.jsxs)("div",{className:"map-wrapper",children:[(0,r.jsx)("div",{id:"map-container"}),(0,r.jsx)(on,{defaultValue:[Xe],ref:j,onChangeActive:ce,onChange:oe})]}),(0,r.jsxs)(D.Z,{gap:12,vertical:!0,className:"right-wrapper",children:[(0,r.jsxs)(D.Z,{justify:"space-between",children:[(0,r.jsx)("div",{className:"title",children:a==="circle"?"\u5706\u5F62\u56F4\u680F":"\u591A\u8FB9\u5F62\u56F4\u680F"}),(0,r.jsxs)(le.ZP.Group,{onChange:function(w){t(w.target.value),g("")},value:a,children:[(0,r.jsx)(le.ZP,{value:"circle",children:"\u5706\u5F62"}),(0,r.jsx)(le.ZP,{value:"polygon",children:"\u591A\u8FB9\u5F62"})]})]}),a==="circle"?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(D.Z,{vertical:!0,children:[(0,r.jsx)("span",{style:{marginBottom:4},children:"\u5706\u5FC3\u5750\u6807"}),(0,r.jsx)(W.Z,{placeholder:"\u8BF7\u8F93\u5165\u5706\u5FC3\u5750\u6807\uFF1A108.951961, 34.256576",value:L.center,onChange:function(w){X(y()(y()({},L),{},{center:w.target.value}))}})]}),(0,r.jsxs)(D.Z,{vertical:!0,children:[(0,r.jsx)("span",{style:{marginBottom:4},children:"\u5706\u5F62\u534A\u5F84 (m)"}),(0,r.jsx)(W.Z,{placeholder:"\u8BF7\u8F93\u5165\u5706\u5F62\u534A\u5F84",value:L.radius,onChange:function(w){X(y()(y()({},L),{},{radius:Number(w.target.value)}))}})]})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(D.Z,{children:(0,r.jsx)("div",{className:"title",children:"\u8F93\u5165\u56F4\u680F\u5B57\u7B26\u4E32"})}),(0,r.jsx)(W.Z.TextArea,{placeholder:rn,value:ae,style:{height:278,maxHeight:278,minHeight:278},onChange:function(w){J(w.target.value)}})]}),(0,r.jsxs)(Ee.Z.Compact,{children:[(0,r.jsx)(W.Z,{style:{width:95},className:"do-com-query-label",defaultValue:"\u9009\u5750\u6807\u7CFB"}),(0,r.jsx)(_.Z,{style:{width:"100%"},onChange:function(w){l(w)},value:n,options:[{value:1,label:"\u9AD8\u5FB7\u5750\u6807\u7CFB GCJ09"},{value:2,label:"\u5927\u5730\u5750\u6807\u7CFB WGS84"},{value:3,label:"\u767E\u5EA6\u5750\u6807\u7CFB BD09"}]})]}),(0,r.jsx)(W.Z,{placeholder:"\u8F93\u5165\u56F4\u680F\u540D\u79F0",value:m,addonBefore:"\u56F4\u680F\u540D\u79F0",onChange:function(w){g(w.target.value)}}),(0,r.jsxs)(D.Z,{gap:12,style:{marginTop:8,marginBottom:20},children:[(0,r.jsx)(H.ZP,{type:"primary",onClick:k,children:"\u786E\u5B9A\u5BFC\u5165"}),(0,r.jsx)(H.ZP,{className:"clear-btn",onClick:U,children:"\u6E05\u9664\u56F4\u680F"})]})]})]})})})}var un=function(v){var c=v.open,u=v.onCancel,e=v.onOk,a=(0,C.useRef)(null);(0,C.useEffect)(function(){var i=function(l){if(l.origin==="https://iframe.keliuyi.com"){var s=l.data,d=s.type,m=s.result;switch(d){case"noticeMoreTenThousandData":console.log("\u6570\u636E\u8D85\u8FC7\u4E00\u4E07\u6761:",m);break;case"getCheckedPoi":console.log("getCheckedPoi:",m),e(m.list);break;default:break}}};return window.addEventListener("message",i),function(){window.removeEventListener("message",i)}},[]);var t=function(){var n;(n=a.current)!==null&&n!==void 0&&n.contentWindow&&a.current.contentWindow.postMessage({type:"init"},"https://iframe.keliuyi.com")},o=function(){var n;(n=a.current)===null||n===void 0||(n=n.contentWindow)===null||n===void 0||n.postMessage({type:"getCheckedPoi"},"https://iframe.keliuyi.com")};return(0,r.jsx)(Ie.Z,{title:"\u9009\u62E9\u573A\u666F",open:c,onCancel:u,onOk:o,width:1100,bodyStyle:{height:"600px",padding:0},children:(0,r.jsx)("iframe",{ref:a,src:"https://iframe.keliuyi.com/poi-query",style:{width:"100%",height:"100%",border:"none"},title:"\u573A\u666F\u9009\u62E9",onLoad:t})})},sn=un;function cn(f){var v=f.parames,c=(0,C.useState)(!1),u=G()(c,2),e=u[0],a=u[1],t=(0,C.useState)(v.scene.join(",")),o=G()(t,2),i=o[0],n=o[1],l=(0,C.useState)(""),s=G()(l,2),d=s[0],m=s[1],g=(0,C.useState)(!1),h=G()(g,2),x=h[0],j=h[1],P=(0,C.useRef)("");return(0,C.useEffect)(function(){f.onChange(i.split(",").filter(function(Z){return Z}))},[i]),(0,r.jsxs)(D.Z,{style:{marginTop:12},gap:12,children:[(0,r.jsx)(W.Z,{value:i,style:{width:280},onChange:function(N){n(N.target.value),P.current=N.target.value,m(N.target.value.replaceAll(",",`
`))},placeholder:"\u8BF7\u8F93\u5165\u573A\u666FID"}),(0,r.jsxs)(D.Z,{gap:8,children:[(0,r.jsx)(H.ZP,{type:"primary",ghost:!0,onClick:function(){j(!0),m(i.replaceAll(",",`
`))},children:"\u6279\u91CF\u8F93\u5165"}),(0,r.jsx)(H.ZP,{type:"primary",ghost:!0,onClick:function(){a(!0)},children:"\u9009\u62E9\u573A\u666F"})]}),e&&(0,r.jsx)(sn,{open:e,onCancel:function(){return a(!1)},onOk:function(N){a(!1),n(N.map(function(b){return b.poi_id}).join(","))}}),x&&(0,r.jsx)(Ie.Z,{maskClosable:!1,width:520,className:"do-com-modal",open:!0,title:"\u6279\u91CF\u8F93\u5165\u573A\u666FID",onCancel:function(){j(!1),m("")},onOk:function(){var N=d.split(`
`).map(function(b){return b.trim()}).filter(function(b){return b}).join(",");n(N),j(!1),m("")},children:(0,r.jsx)(W.Z.TextArea,{value:d,onChange:function(N){m(N.target.value)},style:{height:228,marginBottom:20,borderColor:"rgba(0,0,0,0.15)"},placeholder:`\u6BCF\u4E00\u884C\u4E3A\u4E00\u4E2A\u573A\u666FID\uFF0C\u591A\u4E2AID\u7528\u6362\u884C\u533A\u5206\uFF0C\u4F8B\u5982\uFF1A
11177392
11177393
11177394`})})]})}function dn(f){var v=f.parames,c=f.changeParames,u=(0,C.useState)(!1),e=G()(u,2),a=e[0],t=e[1];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(D.Z,{vertical:!0,className:"do-com-maporscene",children:[(0,r.jsxs)(le.ZP.Group,{value:v.crowd_type,onChange:function(i){c("crowd_type",i.target.value)},children:[(0,r.jsx)(le.ZP.Button,{value:"1",children:"\u5730\u7406\u56F4\u680F"}),(0,r.jsx)(le.ZP.Button,{value:"2",children:" \u573A\u666FID"})]}),v.crowd_type==="1"?(0,r.jsx)(H.ZP,{style:{width:124,marginTop:12},type:"primary",ghost:!0,className:"select-fence-btn",onClick:function(){t(!0)},children:"\u5708\u9009\u5730\u7406\u56F4\u680F"}):(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(cn,{onChange:function(i){c("population_data",y()(y()({},v.population_data),{},{scene:i}))},parames:v.population_data})}),a&&(0,r.jsx)(ln,{changeParames:c,parames:v.population_data,onOk:function(i){c("population_data",y()(y()({},v.population_data),i)),t(!1)},close:function(){t(!1)}})]}),(0,r.jsx)(D.Z,{vertical:!0,children:(0,r.jsx)(vn,{data:v.population_data,setData:function(i){c("population_data",i)}})})]})}function vn(f){var v,c,u,e,a=(0,C.useCallback)(function(t){var o,i=t.item,n=t.close;return(0,r.jsx)("div",{children:(0,r.jsxs)(D.Z,{className:"crowd-tag-item",children:[i.name||(i==null||(o=i.info)===null||o===void 0?void 0:o.title),(0,r.jsx)("span",{className:"iconfont",onClick:n,children:"\uE6B8"})]})})},[]);return(0,r.jsxs)("div",{className:"do-com-maporscenetag",children:[((v=f.data.fence)===null||v===void 0?void 0:v.circle.length)>0||((c=f.data.fence)===null||c===void 0?void 0:c.polygon.length)>0?(0,r.jsx)("div",{className:"tip",children:"\u5DF2\u9009\u56F4\u680F"}):"",(0,r.jsxs)(D.Z,{style:{flexWrap:"wrap"},children:[(u=f.data)===null||u===void 0||(u=u.fence)===null||u===void 0?void 0:u.circle.map(function(t,o){return(0,r.jsx)(a,{item:t,close:function(){var n=y()({},f.data);n.fence.circle=f.data.fence.circle.filter(function(l,s){return s!==o}),f.setData(n)}},"circle"+o)}),(e=f.data)===null||e===void 0||(e=e.fence)===null||e===void 0?void 0:e.polygon.map(function(t,o){return(0,r.jsx)(a,{item:t,close:function(){var n=y()({},f.data);n.fence.polygon=f.data.fence.polygon.filter(function(l,s){return s!==o}),f.setData(n)}},"polygon"+o)})]})]})}function mn(f){var v=f.parames,c=f.changeParames,u=(0,C.useState)(!1),e=G()(u,2),a=e[0],t=e[1];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{style:{marginBottom:12},children:(0,r.jsx)(H.ZP,{type:"primary",ghost:!0,onClick:function(){t(!0)},children:"\u9009\u62E9\u6807\u7B7E"})}),v.tagData.length>0&&(0,r.jsx)("span",{children:"\u5DF2\u9009\u6807\u7B7E"}),(0,r.jsx)("div",{children:(0,r.jsx)(Qe,{data:v.tagData,setData:function(i){c("tagData",i)}})}),a&&(0,r.jsx)(At,{changeData:function(i){c("tagData",i)},defluatData:v.tagData,close:function(){t(!1)}})]})}var fn=A(76971),gn=A(8913),pn=A(68351);function hn(f){var v,c,u,e,a,t=f.parames,o=f.changeParames,i=5,n=function(){var s="id-"+Date.now()+"-"+Math.random().toString(36).substr(2,9),d=t.extension_info,m=d.time_frame[d.time_frame.length-1],g=d.time_frame.length+1;if(g>i){E.ZP.info("\u6700\u591A\u53EF\u8BBE\u7F6E5\u65F6\u95F4\u6BB5");return}if(m&&!m.start||!m.end){E.ZP.info("\u8BF7\u5148\u8BBE\u7F6E\u53D6\u6570\u65F6\u6BB5");return}o("extension_info",y()(y()({},d),{},{time_frame:[].concat(K()(d.time_frame),[{id:s,start:"",end:""}])}))};return(0,r.jsx)(r.Fragment,{children:t.population_type.includes("VISITED")&&(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(R.Z.Item,{label:"",style:{marginLeft:f.mode?18:74},children:(0,r.jsxs)(D.Z,{vertical:!0,align:"flex-start",gap:0,children:[t==null||(v=t.extension_info)===null||v===void 0?void 0:v.time_frame.map(function(l,s){var d=s===0;return(0,r.jsxs)(D.Z,{align:"center",justify:"flex-end",gap:f.mode?7:11,className:"do-form-item",style:{marginBottom:8},children:[(0,r.jsxs)("div",{style:{width:56},children:[" ",d&&"\u53D6\u6570\u65F6\u6BB5"]}),(0,r.jsx)(pn.Z.RangePicker,{style:{height:32,width:280,marginLeft:f.mode?4:5},onChange:function(g){var h=t.extension_info,x=y()(y()({},h),{},{time_frame:K()(h.time_frame)});if(console.log("datas",g),g&&g.length===2){var j,P;x.time_frame[s]=y()(y()({},x.time_frame[s]),{},{start:(j=g[0])===null||j===void 0?void 0:j.format("HH:mm"),end:(P=g[1])===null||P===void 0?void 0:P.format("HH:mm")}),o("extension_info",x)}else g===null&&(x.time_frame[s]=y()(y()({},x.time_frame[s]),{},{start:"",end:""}),o("extension_info",x))},format:"HH:mm",suffixIcon:!1}),d?(0,r.jsxs)("div",{onClick:n,style:{color:"var(--color-primary)",cursor:"pointer"},className:"time-picker",children:[(0,r.jsx)(fn.Z,{style:{marginRight:4}}),f.mode?"":"\u7EE7\u7EED\u6DFB\u52A0"]}):(0,r.jsx)(gn.Z,{style:{fontSize:16,color:"rgba(2, 4, 13, 0.45)"},onClick:function(){var g=t.extension_info,h=g.time_frame.filter(function(x,j){return j!==s});console.log("time_frame",h),o("extension_info",y()(y()({},g),{},{time_frame:h}))}})]},l.id)}),(0,r.jsxs)(D.Z,{align:"center",gap:f.mode?7:11,style:{marginTop:12},className:"do-form-item",children:[(0,r.jsx)("div",{style:{width:56},children:"\u505C\u7559\u65F6\u957F"}),(0,r.jsx)(Ce.Z,{placeholder:"\u6700\u5C0F\u5206\u949F",min:0,value:Number((c=t.extension_info.remain_minute)===null||c===void 0?void 0:c.min),style:{height:32,width:f.mode?124:121,marginLeft:5},onChange:function(s){var d=t.extension_info;o("extension_info",y()(y()({},d),{},{remain_minute:y()(y()({},d.remain_minute),{},{min:s==null?void 0:s.toString()})}))}}),(0,r.jsx)("div",{className:"split-line"}),(0,r.jsx)(Ce.Z,{placeholder:"\u6700\u5927\u5206\u949F",min:0,value:Number((u=t.extension_info.remain_minute)===null||u===void 0?void 0:u.max),style:{height:32,width:f.mode?125:121},onChange:function(s){var d=t.extension_info;o("extension_info",y()(y()({},d),{},{remain_minute:y()(y()({},d.remain_minute),{},{max:s==null?void 0:s.toString()})}))}})]}),(0,r.jsxs)(D.Z,{align:"center",gap:f.mode?7:11,style:{marginBottom:0,marginTop:12},className:"do-form-item",children:[(0,r.jsx)("div",{style:{width:56},children:"\u5230\u8BBF\u5929\u6570"}),(0,r.jsx)(Ce.Z,{placeholder:"\u6700\u5C0F\u5929\u6570",min:0,value:Number((e=t.extension_info.visit_day)===null||e===void 0?void 0:e.min),style:{height:32,width:f.mode?124:121,marginLeft:5},onChange:function(s){var d=t.extension_info;o("extension_info",y()(y()({},d),{},{visit_day:y()(y()({},d.visit_day),{},{min:s==null?void 0:s.toString()})}))}}),(0,r.jsx)("div",{className:"split-line",children:" "}),(0,r.jsx)(Ce.Z,{placeholder:"\u6700\u5927\u5929\u6570",value:Number((a=t.extension_info.visit_day)===null||a===void 0?void 0:a.max),style:{height:32,width:f.mode?125:121},min:0,onChange:function(s){var d=t.extension_info;o("extension_info",y()(y()({},d),{},{visit_day:y()(y()({},d.visit_day),{},{max:s==null?void 0:s.toString()})}))}})]})]})})})})}var yn=(0,C.forwardRef)(function(f,v){var c,u=f.parames,e=f.mode,a=R.Z.useForm(),t=G()(a,1),o=t[0],i=function(l,s){f.changeParames(l,s)};return(0,C.useEffect)(function(){!u.population_type.includes("VISITED")&&u.extension_info.time_frame[0].start&&i("extension_info",y()({},JSON.parse(JSON.stringify(Pe.extension_info))))},[u.population_type]),(0,C.useImperativeHandle)(v,function(){return{rulesVerification:function(){var l=f.index!==void 0?f.index+1:"",s=u.population_data;if(s.fence.circle.length===0&&s.fence.polygon.length===0&&s.scene.length===0)return E.ZP.info("\u8BF7\u9009\u62E9\u89C4\u5219".concat(l,"\u67E5\u8BE2\u573A\u666F\u6216\u533A\u57DF")),!1;if(u.population_type.length===0)return E.ZP.info("\u8BF7\u9009\u62E9\u89C4\u5219".concat(l,"\u4EBA\u7FA4\u7C7B\u578B")),!1;var d=u.extension_info,m=d.remain_minute;if(m!=null&&m.min&&m.max&&(m==null?void 0:m.min)>(m==null?void 0:m.max))return l?E.ZP.info("\u89C4\u5219".concat(l,"\u505C\u7559\u65F6\u95F4\u6700\u5C0F\u5206\u949F\u4E0D\u80FD\u5927\u4E8E\u6700\u5927\u5206\u949F")):E.ZP.info("\u505C\u7559\u65F6\u95F4\u6700\u5C0F\u5206\u949F\u4E0D\u80FD\u5927\u4E8E\u6700\u5927\u5206\u949F"),!1;if(m!=null&&m.min&&!(m!=null&&m.max))return l?E.ZP.info("\u89C4\u5219".concat(l,"\u505C\u7559\u65F6\u95F4\u6700\u5C0F\u5206\u949F\u4E0D\u80FD\u5927\u4E8E\u6700\u5927\u5206\u949F")):E.ZP.info("\u505C\u7559\u65F6\u957F\u7F3A\u5C11\u6700\u5927\u5206\u949F"),!1;if(!(m!=null&&m.min)&&m!==null&&m!==void 0&&m.max)return E.ZP.info("\u89C4\u5219".concat(l,"\u505C\u7559\u65F6\u957F\u7F3A\u5C11\u6700\u5C0F\u5206\u949F")),!1;var g=d.visit_day;return g!=null&&g.min&&g.max&&(g==null?void 0:g.min)>(g==null?void 0:g.max)?(l?E.ZP.info("\u89C4\u5219".concat(l,"\u5230\u8BBF\u5929\u6570\u6700\u5C0F\u5929\u6570\u4E0D\u80FD\u5927\u4E8E\u6700\u5927\u5929\u6570")):E.ZP.info("\u5230\u8BBF\u5929\u6570\u6700\u5C0F\u5929\u6570\u4E0D\u80FD\u5927\u4E8E\u6700\u5927\u5929\u6570"),!1):g!=null&&g.min&&!(g!=null&&g.max)?(l?E.ZP.info("\u89C4\u5219".concat(l,"\u5230\u8BBF\u5929\u6570\u7F3A\u5C11\u6700\u5927\u5929\u6570")):E.ZP.info("\u5230\u8BBF\u5929\u6570\u7F3A\u5C11\u6700\u5927\u5929\u6570"),!1):!(g!=null&&g.min)&&g!==null&&g!==void 0&&g.max?(l?E.ZP.info("\u89C4\u5219".concat(l,"\u5230\u8BBF\u5929\u6570\u7F3A\u5C11\u6700\u5C0F\u5929\u6570")):E.ZP.info("\u5230\u8BBF\u5929\u6570\u7F3A\u5C11\u6700\u5C0F\u5929\u6570"),!1):!0}}}),(0,r.jsxs)(R.Z,{rootClassName:f.className,colon:!1,labelCol:{span:5},wrapperCol:{span:17},form:o,layout:"horizontal",className:"do-com-crowdcard-form",style:{width:e?450:700},children:[!e&&(0,r.jsx)(R.Z.Item,{required:!0,rules:[{required:!0}],label:"\u67E5\u8BE2\u573A\u666F/\u533A\u57DF",children:(0,r.jsx)(dn,{parames:u,changeParames:i})}),(0,r.jsx)(R.Z.Item,{required:!0,rules:[{required:!0}],label:"\u4EBA\u7FA4\u7C7B\u578B",children:(0,r.jsx)(le.ZP.Group,{onChange:function(l){i("population_type",[l.target.value])},value:(c=u.population_type)===null||c===void 0?void 0:c[0],children:(0,r.jsx)(D.Z,{gap:12,children:gt().map(function(n){return(0,r.jsx)(le.ZP,{value:n.value,style:{lineHeight:"32px"},children:n.label},n.value)})})})}),(0,r.jsx)(hn,{mode:f.mode,parames:u,changeParames:i}),!e&&(0,r.jsx)(R.Z.Item,{label:"\u4EBA\u7FA4\u6807\u7B7E\u5C5E\u6027",children:(0,r.jsx)(mn,{parames:u,changeParames:i})})]})}),Fn=(0,C.forwardRef)(function(f,v){var c=Ae(),u=c.params,e=c.changeParames,a=c.activeKey,t=c.setActiveKey,o=(0,C.useRef)([]);return(0,C.useEffect)(function(){o.current=o.current.slice(0,u.length);for(var i=o.current.length;i<u.length;i++)o.current[i]=null},[u.length]),(0,C.useImperativeHandle)(v,function(){return{validate:function(){var i=me()(Y()().mark(function l(){var s,d;return Y()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:s=0;case 1:if(!(s<o.current.length)){g.next=9;break}if(d=o.current[s],!(d&&!d.rulesVerification())){g.next=6;break}return t(s),g.abrupt("return",!1);case 6:s++,g.next=1;break;case 9:return g.abrupt("return",!0);case 10:case"end":return g.stop()}},l)}));function n(){return i.apply(this,arguments)}return n}()}}),(0,r.jsx)("div",{children:(0,r.jsx)(Et.Z,{className:"do-collapse-taskcarditem",expandIconPosition:"end",bordered:!1,activeKey:a,onChange:function(n){Array.isArray(n)?t(n.length>0?Number(n[0]):0):t(Number(n))},items:u.map(function(i,n){return{key:n,label:"\u4EBA\u7FA4\u89C4\u5219"+(n+1),children:(0,r.jsx)("div",{children:(0,r.jsx)(yn,{ref:function(s){o.current[n]=s},parames:u[n],index:n,changeParames:function(s,d){e({index:n,type:s,value:d})}})})}})})})}),An=Fn;function qe(){var f=R.Z.useForm(),v=G()(f,1),c=v[0],u=(0,C.useState)(1),e=G()(u,2),a=e[0],t=e[1],o=Ae(),i=o.params,n=(0,it.useNavigate)(),l=(0,C.useState)([]),s=G()(l,2),d=s[0],m=s[1],g=(0,C.useState)([ve()().subtract(7,"day"),ve()().subtract(1,"day")]),h=G()(g,2),x=h[0],j=h[1],P=(0,C.useRef)(null),Z=function(){var N=me()(Y()().mark(function b(){var L,X,T,M,ae,J;return Y()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.prev=0,B.next=3,c.validateFields();case 3:if(M=B.sent,M.type!==6){B.next=8;break}if(d.length!==0){B.next=8;break}return E.ZP.info("\u8BF7\u9009\u62E9\u81EA\u5B9A\u4E49\u65F6\u95F4"),B.abrupt("return");case 8:return B.next=10,(L=P.current)===null||L===void 0?void 0:L.validate();case 10:if(ae=B.sent,ae){B.next=13;break}return B.abrupt("return");case 13:J={name:M.name,payment_type:M.payment_type,type:M.type,start:(X=M.dates[0])===null||X===void 0?void 0:X.format("YYYY-MM-DD"),end:(T=M.dates[1])===null||T===void 0?void 0:T.format("YYYY-MM-DD")},M.type===6&&(J.ext=d),J.task_conditions=i.map(function(ie){return yt(ie)}),E.ZP.success("\u521B\u5EFA\u6210\u529F"),console.log("data",J),B.next=24;break;case 20:B.prev=20,B.t0=B.catch(0),console.error("Failed to create:",B.t0),E.ZP.error("\u521B\u5EFA\u5931\u8D25");case 24:case"end":return B.stop()}},b,null,[[0,20]])}));return function(){return N.apply(this,arguments)}}();return(0,r.jsx)("div",{className:"do-page-createtask",children:(0,r.jsxs)(D.Z,{gap:20,style:{margin:0,overflow:"auto",overflowX:"hidden"},children:[(0,r.jsx)("div",{className:"left-wrap",children:(0,r.jsxs)(R.Z,{colon:!1,form:c,className:"do-crowd-form-wrap",style:{maxWidth:"inline"},initialValues:{payment_type:0,type:a,dates:[ve()().subtract(7,"day"),ve()().subtract(1,"day")]},children:[(0,r.jsx)(R.Z.Item,{label:" \u4EBA\u7FA4\u5305\u540D\u79F0",required:!0,name:"name",style:{marginRight:30},rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u4EBA\u7FA4\u5305\u540D\u79F0"}],children:(0,r.jsx)(W.Z,{style:{width:265},placeholder:"\u8BF7\u8F93\u5165\u4EBA\u7FA4\u5305\u540D\u79F0"})}),(0,r.jsx)("div",{className:"form-item-wrapp",children:(0,r.jsx)(R.Z.Item,{required:!0,rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u65E5\u671F"}],label:"\u67E5\u8BE2\u65F6\u95F4\u8303\u56F4",name:"dates",children:(0,r.jsx)(ot.default.RangePicker,{disabledDate:function(b){if(!b)return!1;var L=ve()().subtract(1,"day");return b.isAfter(L)||b.isBefore(L.subtract(180,"days"))},style:{width:265},value:x,onChange:function(b){b&&b.length===2?j([b[0],b[1]]):j([ve()().subtract(7,"day"),ve()().subtract(1,"day")])}})})}),(0,r.jsxs)("div",{children:[(0,r.jsx)(R.Z.Item,{label:"\u4EFB\u52A1\u7C7B\u578B",required:!0,name:"type",style:{margin:"0 0 0 0"},children:(0,r.jsx)(_.Z,{style:{width:265},onChange:function(b){t(b)},options:pt})}),a===6&&(0,r.jsxs)("div",{className:"tip-settle",children:["\u8BF7\u9009\u62E9\u8981\u67E5\u8BE2\u661F\u671F\u6570",(0,r.jsx)("div",{children:(0,r.jsx)(rt.Z.Group,{style:{marginTop:8},value:d,options:ht,onChange:function(b){m(b)}})})]})]}),(0,r.jsx)(An,{ref:P,customDays:d,form:c}),(0,r.jsxs)(D.Z,{justify:"flex-end",style:{marginTop:20},children:[(0,r.jsx)(H.ZP,{onClick:function(){n(-1)},children:"\u8FD4\u56DE"}),(0,r.jsx)(H.ZP,{htmlType:"submit",onClick:Z,type:"primary",children:"\u63D0\u4EA4\u4EFB\u52A1"})]})]})}),(0,r.jsx)("div",{className:"right-wrap",children:(0,r.jsx)(jt,{})})]})})}function xn(){return(0,r.jsx)(Ft,{children:(0,r.jsx)(qe,{})})}},71286:function(V){V.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAYCAYAAADkgu3FAAAAAXNSR0IArs4c6QAAAVJJREFUSEvtlLFKw1AUhv9fq+IiiOjg7F6ho5NDEDEt6Bt0TGoH3RSkQQRdFBwSwcEHsDjYVlEQdXNy8Smq9A305mhKhxLa5CZKB/Wu55z/u+e/51xiQIcD4uAflNrpP2LdiiWTJM4JLAIY1vTrHYJbKBTrp2yFa3paZ9pS+Qo4moBw2kHd45YWKG/LBoCjNCAh9hsut7VAqyWZ+hC8AJhNCHtTQPbaY1MLFCQV1mVBfDwCyGjC/CHB0uUJ73rlR463ackmiUMtELFbd1nplxu7R3lbLgCsRcKI+9w0DMehnxq0XJaJjMIzgLk+Ik2OYL52zNeoy8R2FBSbZclS4QnAeEhMETBqHh/i7NUCtWGWFEmcdQsKsdNwuRcHCeLaoA7MI2F1hK9yMyhEvUv3BRKB2mNfEgM+RsdauKlWqXS6SdyRrmjiPfqOsPbP8JOQ32ndJ0EhUhly87C0AAAAAElFTkSuQmCC"},95502:function(V){V.exports="data:image/png;base64,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"},31779:function(V){V.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAgCAYAAAB3j6rJAAAAAXNSR0IArs4c6QAAAe5JREFUWEftlz9ME2EYxn/vXSuJhsQBSHABN1eCow4kBkPiNUjiwuJk01bZHBy7mrChV1ImFxcSJD0jEQcGXEkc3ZRFInQgIRixvXvNKSal3qX3cQNt0ne9533y3PP++b5P6JKQLtFBbwiZWdABU8c2lvgFoqZ5kY44RZ1FWAEGTQmBn6o8e1uRZZPcaCEl3ROYr7myZUIWYp0neoOAnZPLjGwuynHS/P+ElMtq7ezT8Fyxk5K045ySfrEDptaX5WtSjr6Qdqd62xEnr0OBzVhc/S2hZsEDP2C3FeNnqW8syUlUnrEjTlHfI0wnaMIDCHfKmbgqyuNaRV6lKs1cXkcbGb4lEEGmye03VfnYis0VdEItPniuDKUScj+vt5oZts8r5M+eKak/OUK2XJaglceoNH0h7SXoO3Khjpx2dt2HO+9c+dQqxqQ02SbX1qqyF3EgJpuaMDFX1IcqvAQO24guAcMdx1fZ9CpyNwqXeHz/JYe3M7vBmcVjW4wFsBooudj17rPrVaUe991YSBTRbEHHfYstz5XrHV2JAfSFpGrWONu7pjTTT/XKwA++Y3HTeyGfTfskV9IphdeeK6MdT99O5PeKWhDhOWD85gGOUB55FVlPLeQvgcrMAuFOMYq421lI0htPTqPfTQnuGkd+A+w7UzBpApDxAAAAAElFTkSuQmCC"},29240:function(V){V.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAAXNSR0IArs4c6QAAAaBJREFUWEftmD1PU2EYhq/7FHH2B+hP0BASFsOggzGxJQzwDxj6sbABASY71MkSbF34AybGoW1SWAiLLkyO/gQmNgZK+hBwIfS0z/sWI4Wcsz537vc613u+csSEHZowHjIgb0dSDeWLNqccH4CnXkHq3DCJ360G30AW0zEAtFC0GUs4BnIxRWlZE9udhqoxPQNAhZKtIWoxJcOyBr86Tb2O6RoAyldsS8bHmJIR2eN2U3MxXRmQZ+sRGBK76rMnceqdrT3hvLWjEy93cx5nyNjLTVHrX/DDEl64CxlnwJ+UXA/RbTdUvz2LAhK8xaibeOnCBAQMljtNfR/bkIxXJo6AZwHrhURq7aY2JgdIfGo3tJ4BDd27zJB3WT9IQ4WybQKp3zD//LYPMbRQtvcG3TTb9wJ0BZIvWTGBRRPTN8H6xkry98H43Ls8guYhhryiQtkOgTdeLmieAXmaMkP/ydAB8M5bK2Quo9r6qu2Rb3uvqFCxVYzPXi5gbkqYb33RzzsBXT+nyrYkmEXj/axQnx459m/DXHVnfz+8rcwMeYYuAWuc2CVTXxxHAAAAAElFTkSuQmCC"},25507:function(V){V.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAAXNSR0IArs4c6QAAAfxJREFUWEftmD9rFFEUxX9nlyho0NIP4BcwjSCxsRHE2eksUtgnswEb/xbRqIV/GyE7q7VFIOXMgGBjowg28Qv4ASyVKGjMHtmIIrPjzs4mCyvMlHPPO+/Mufe9d9+IKXs0ZXqoBZVlpNChoO1TmHMSB8oICuPGiM20o42q4wcEBYs+qQaZzDPDVlXCXXyDJmZB8DyJ9bAKx4CgMPKKxeG0o+tViPLYVuSzmBtpV2eq8Aw6FPlOA7aTWHerEOWx4bLnvcODtKvTVXhqQWVu1Q7tu0MLl3xsa5sMOF5A/sdxmaYbHMS8yeNkviOyJNbaQCz/IihZZUHkTcGJsi/djZuvEkEe24PZBjzGXEm6Sv6OV66hVuRPwJGRBMHnNNbRImwYedVCaUe3pkXQSg9mslg3a0H/SFntUN+YYUX9nzrUavu2jJNYq0W538dlP5pD4ZJDxKMeXG4UNGg2GeLQKPuQ4X0Wa25PRd0fHEZexgQuamHNPOIb8KNE1IfZGYL1J/q4Z0HDJmot+bWaXEvWNHBGjeLab0y/Mx1pYywjrQXVDpUdriM49ApxL431sgw7dHG0fV/mS/52U/luH0a+ariIWKfHzjiiBLMWi+5xPnuqd0Pbj/IJrFabC5g5NN7PCv9qYV9kHb0tbWHLBU0WUTllk5XDeJZPUtTUOfQToe9fNAtcGBYAAAAASUVORK5CYII="},58971:function(V){V.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAAXNSR0IArs4c6QAAAalJREFUWEftmL9qFFEYxX8nauML+BY2kgixihYmsJvKIo9gZi20EFOsKGxEY2Xhzu47aCE7GxCRpBCbiAi+iGCnMHNkbQy7m7kzmQ1EuNMN37nf/c357t8R5+zROeMhAoUqMtehzXu+Qc66l7gUSjA3bmz4Ok71tm77GaAJjAs+wQLKKR5kfb2qAzULtO2eRbdOkhLthyzV7Tq5ZoDaHb/APKqTpER7mKW6WSdXBAq5FR06C4d+Ip6Q811L+HgHxdR7XnDlorn7V6N/WpnfBbwbDzScBqxdMolk1Ncg9KWT+GbiNcPBSVrBxijV++Px2kAuuD4e6mgRQEA3S/WsERCwkqX6sgggi8fjvnYj0EluRodCs+w/dSjxc2CnZBZVnmWtjm/JfGw0hlqJ7wjeLAjooczLRkCTxu2O72M2YPYIK3gN/Chbh1wgX+CazFPgcmOgss7aiSer9HKVhTGkqTSoQ0kiUHQotLmGHGol/ixYDekqxc1ONtBe6W4fStTquCvTC+kqxHMVLI+G+tYICKx2whZwFZ36dvvLOfvzDnrx70eolNGhkEN/AL+BCjSiEdu9AAAAAElFTkSuQmCC"},71307:function(V){V.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAAXNSR0IArs4c6QAAAmFJREFUOE+tk89LVFEUx7/n3jcJke+NIAS1qHAh1D/QpoVESbQQpFoIST+gCCoIyn6QWiIWlG1ahBJiEdTCQCppEe2kIIhaGFFkLSpcGDF3kijffecbb5yxmVHMRW/3Lud8zvd8zzmC//TJ4pyVa0yQ2UegWYh1ACwFnwV8ol6GAfepOm8ByATRaQBdAL4AGBXKOwBKQQPBFgEbAelX7zoBJCVgBcjYaAiCPUI5niS54RRQXdnaaBeBAQrH6fOtJdg8yGSyJ0D2WmFTHOdfLGVdTU1tY+zNMwgG1buzaWwRVFtvAjMJwRmN3Y3l+G9ttpWid9XKRvx2kwWQyYTHoNKhidsAwC8HVFARRK8F8lB9rrMAkiB8IJSvmrgj5RBrs/spbFRv+4Dv+eoCJsheJNhM7zbPKQqiV4DcUZ/rrwi24U4j8gjENAwvaJwfLFdsbbiXwGVN8mtLoJcA7ql3VyqrRnUmwLe0VvpO8K0hTiVJfiz9tzZ7gGCXJm59sbXovhA5TdzBhfLDCUA2lb8TeEqRk4bcTmAHvWsqmh0dhqJHE5du8a/yJGOjAQgOLTKABMSQJnE38HOqOP76WmPjjxBcU+8uVRoetlPkVpWiCQFH1OgIZmfelO1Rod92it4UoiVJ8o//JkYNJsCHKtAovUu3moufSBD1AuwA0KM+f7XUprHhFERWA+wGcB6QFQDOlatfcLRzI5V0DQKAYzAyTsU2MZjV2LWZTHgUlOvpjSl0C/yP5xWtVZm5ymayu6m6lSJ1hPbB8z0wMz13CdnbpNbTmzYgl1sK9K8rSTuZ9ycN/gPToAAiLUF9AwAAAABJRU5ErkJggg=="},29321:function(V){V.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAAXNSR0IArs4c6QAAAbFJREFUOE/V1D1oFUEQwPH/7N5hhPg2CmKj+FGIIoKohYTYWthaBOwsREHsBDGdpPGrsgiaXlCwsZSUpghIUNRGSRFJZWGSu5gi7+3NyN1LLr4gvHdg41ZbzP6WmZ1Z4R8tqZ1de467Qm4acmgQW7Al9faMjbVvZXwXqhA3b9hHMfk8CGRipwU5o17PlVgFuSQ8MeyCxXxsEGQrRpLWrCBzGrM7XSgNr1BWtchuNIGcD89xjGgnG//voOGTLvX31dkEG/nCzrQbpLZ/2CXtFTAFpjQyCfnyFtgAAknCvMDZ6rCxjJNJ7axOAe1GkPOtp4jc/jMtMxYcctecHcBoacwe9n0178O4CS//1haGvbOYXwZ+9YVg30GXFEs9kNkPcK9V7A0xm6lHpF9DOh8WEQ7XmLGohZ6HtZ91l2+OyCODixaz0aqkO5bz4QXCVYRplEsIRwzeWszKtMoX3RzaoXDMRT4YfBXjS68j64h9x7ilRXYqTcOJwpgFdgP3NGYPtqFyNxSOush1pPpGtr8XtXUt7DEpe+nk78tQ70euKTaRenel3V751As1mdZubHlZXYbf49PrEyygKVYAAAAASUVORK5CYII="}}]);
