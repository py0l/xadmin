"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[301],{47046:function(De,L){var n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"};L.Z=n},51042:function(De,L,n){var $=n(1413),D=n(67294),V=n(42110),c=n(91146),Q=function(j,Z){return D.createElement(c.Z,(0,$.Z)((0,$.Z)({},j),{},{ref:Z,icon:V.Z}))},q=D.forwardRef(Q);L.Z=q},17198:function(De,L,n){var $=n(15009),D=n.n($),V=n(97857),c=n.n(V),Q=n(99289),q=n.n(Q),ie=n(5574),j=n.n(ie),Z=n(47019),re=n(85576),t=n(55102),pe=n(34041),U=n(67294),p=n(85893),C=(0,U.forwardRef)(function(k,W){var ee=k.onOk,w=(0,U.useState)(!1),ne=j()(w,2),se=ne[0],_=ne[1],y=(0,U.useState)(null),d=j()(y,2),P=d[0],e=d[1],a=Z.Z.useForm(),l=j()(a,1),s=l[0],u=(0,U.useState)("add"),h=j()(u,2),te=h[0],z=h[1],K=(0,U.useState)(!0),le=j()(K,2),ue=le[0],de=le[1];(0,U.useImperativeHandle)(W,function(){return{show:function(I,m){de(!0),z(I),I==="edit"&&m?(e(m),s.setFieldsValue(m),console.log("show editingItem",m),m.subTabs&&m.subTabs.length>0&&de(!1)):(e(null),s.resetFields()),_(!0)}}});var ae=function(){var H=q()(D()().mark(function I(){var m;return D()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.prev=0,E.next=3,s.validateFields();case 3:m=E.sent,ee(c()(c()({},m),{},{id:(P==null?void 0:P.id)||Date.now().toString()}),te),_(!1),e(null),s.resetFields(),E.next=13;break;case 10:E.prev=10,E.t0=E.catch(0),console.error("Form validation failed:",E.t0);case 13:case"end":return E.stop()}},I,null,[[0,10]])}));return function(){return H.apply(this,arguments)}}(),B=function(){_(!1),e(null),s.resetFields()};return(0,p.jsx)(re.Z,{title:P?"\u7F16\u8F91\u6309\u94AE":"\u6DFB\u52A0\u6309\u94AE",open:se,onOk:ae,onCancel:B,width:600,children:(0,p.jsxs)(Z.Z,{form:s,layout:"vertical",children:[(0,p.jsx)(Z.Z.Item,{name:"name",label:"\u6309\u94AE\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6309\u94AE\u540D\u79F0"}],children:(0,p.jsx)(t.Z,{placeholder:"\u8BF7\u8F93\u5165\u6309\u94AE\u540D\u79F0"})}),ue&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(Z.Z.Item,{name:"type",label:"\u6309\u94AE\u7C7B\u578B",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u6309\u94AE\u7C7B\u578B"}],children:(0,p.jsx)(pe.Z,{placeholder:"\u8BF7\u9009\u62E9\u6309\u94AE\u7C7B\u578B",options:[{value:"page",label:"\u8DF3\u8F6C\u9875\u9762"},{value:"phone",label:"\u62E8\u6253\u7535\u8BDD"},{value:"send",label:"\u5B9A\u5411\u53D1\u9001"}]})}),(0,p.jsx)(Z.Z.Item,{noStyle:!0,shouldUpdate:function(I,m){return I.type!==m.type},children:function(I){var m=I.getFieldValue,M=m("type");return M==="page"?(0,p.jsx)(Z.Z.Item,{name:"url",label:"\u8DF3\u8F6C\u94FE\u63A5",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u8DF3\u8F6C\u94FE\u63A5"}],children:(0,p.jsx)(t.Z,{placeholder:"\u8BF7\u8F93\u5165\u8DF3\u8F6C\u94FE\u63A5"})}):M==="phone"?(0,p.jsx)(Z.Z.Item,{name:"phone",label:"\u7535\u8BDD\u53F7\u7801",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7535\u8BDD\u53F7\u7801"}],children:(0,p.jsx)(t.Z,{placeholder:"\u8BF7\u8F93\u5165\u7535\u8BDD\u53F7\u7801"})}):M==="send"?(0,p.jsx)(Z.Z.Item,{name:"content",label:"\u53D1\u9001\u5185\u5BB9",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u53D1\u9001\u5185\u5BB9"}],children:(0,p.jsx)(t.Z.TextArea,{placeholder:"\u8BF7\u8F93\u5165\u53D1\u9001\u5185\u5BB9",rows:4})}):null}})]})]})})});L.Z=C},44685:function(De,L,n){n.d(L,{Z:function(){return U}});var $=n(5574),D=n.n($),V=n(1413),c=n(67294),Q=n(26554),q=n(91146),ie=function(C,k){return c.createElement(q.Z,(0,V.Z)((0,V.Z)({},C),{},{ref:k,icon:Q.Z}))},j=c.forwardRef(ie),Z=j,re=n(51042),t=n(85893),pe=function(C){var k,W=C.cards,ee=C.messages,w=C.tabs,ne=C.onTabClick,se=C.onAddSubMenu,_=C.onSubMenuClick,y=C.floatingButtons,d=C.onFloatingButtonClick,P=C.title,e=P===void 0?"\u535A\u745E\u5929\u4E0B":P,a=(0,c.useRef)(null),l=(0,c.useRef)(null),s=(0,c.useState)(!1),u=D()(s,2),h=u[0],te=u[1],z=(0,c.useState)(0),K=D()(z,2),le=K[0],ue=K[1],de=(0,c.useState)(0),ae=D()(de,2),B=ae[0],H=ae[1],I=(0,c.useState)(null),m=D()(I,2),M=m[0],E=m[1],ye=function(o,X){X.current&&(te(!0),ue(o.pageX-X.current.offsetLeft),H(X.current.scrollLeft))},ce=function(){te(!1)},Fe=function(o,X){if(!(!h||!X.current)){o.preventDefault();var ve=o.pageX-X.current.offsetLeft,O=(ve-le)*2;X.current.scrollLeft=B-O}},me=function(){te(!1)},Ae=function(o){o.type==="add"?se==null||se():(ne==null||ne(o),E(M===o.id?null:o.id))},Be=function(){if(!M||!w)return null;var o=w.find(function(X){return X.id===M});return o==null?void 0:o.subTabs},Pe=function(o){if(!o.mediaUrl)return null;switch(o.mediaType){case"image":return(0,t.jsx)("img",{src:o.mediaUrl,alt:o.title});case"video":return(0,t.jsxs)("video",{controls:!0,children:[(0,t.jsx)("source",{src:o.mediaUrl,type:"video/mp4"}),"Your browser does not support the video tag."]});case"audio":return(0,t.jsxs)("audio",{controls:!0,children:[(0,t.jsx)("source",{src:o.mediaUrl,type:"audio/mpeg"}),"Your browser does not support the audio tag."]});default:return null}};return(0,t.jsx)("div",{className:"phone-preview",children:(0,t.jsxs)("div",{className:"phone-frame",children:[(0,t.jsxs)("div",{className:"header",children:[(0,t.jsx)("div",{className:"back-button",children:(0,t.jsx)(Z,{})}),(0,t.jsx)("div",{className:"title",children:e}),(0,t.jsx)("div",{className:"placeholder"})]}),(0,t.jsxs)("div",{className:"content-area",children:[W&&W.length>0&&(0,t.jsx)("div",{className:"cards-section",ref:a,onMouseDown:function(o){return ye(o,a)},onMouseUp:ce,onMouseMove:function(o){return Fe(o,a)},onMouseLeave:me,children:(0,t.jsx)("div",{className:"cards-scroll",children:W.map(function(r){return(0,t.jsxs)("div",{className:"card-item",children:[(0,t.jsx)("div",{className:"card-media",children:Pe(r)}),(0,t.jsxs)("div",{className:"card-content",children:[(0,t.jsx)("div",{className:"card-title text-[14px] mb-[0px]",style:{fontWeight:600},children:r.title}),(0,t.jsx)("div",{className:" text-[14px] text-[#999]",style:{fontWeight:400},children:r.summary}),r.buttons&&r.buttons.length>0&&(0,t.jsx)("div",{className:"card-buttons",children:r.buttons.map(function(o){return(0,t.jsx)("div",{className:"card-button",children:o.name},o.id)})})]})]},r.id)})})}),ee&&ee.length>0&&(0,t.jsx)("div",{className:"messages-section",children:ee.map(function(r){return(0,t.jsxs)("div",{className:"message-item ".concat(r.isUser?"user-message":"system-message"),children:[(0,t.jsx)("div",{className:"message-content",children:r.content}),r.timestamp&&(0,t.jsx)("div",{className:"message-time",children:r.timestamp})]},r.id)})})]}),y&&y.length>0&&(0,t.jsx)("div",{className:"floating-buttons",children:(0,t.jsx)("div",{className:"floating-buttons-scroll",ref:l,onMouseDown:function(o){return ye(o,l)},onMouseUp:ce,onMouseMove:function(o){return Fe(o,l)},onMouseLeave:me,children:y.map(function(r){return(0,t.jsx)("div",{className:"floating-button",onClick:function(){return d==null?void 0:d(r)},children:(0,t.jsx)("span",{className:"button-name",children:r.name})},r.id)})})}),(0,t.jsxs)("div",{className:"bottom-area",children:[w&&w.length>0?(0,t.jsx)("div",{className:"bottom-tabs",children:w.slice(0,3).map(function(r){return(0,t.jsx)("div",{className:"tab-item ".concat(r.type==="add"?"add-tab":""," ").concat(M===r.id?"active":""),onClick:function(){return Ae(r)},children:r.type==="add"?(0,t.jsx)(re.Z,{className:"add-icon"}):(0,t.jsx)("span",{className:"tab-name",children:r.name})},r.id)})}):(0,t.jsx)("div",{className:"message-input",children:(0,t.jsx)("div",{className:"input-placeholder",children:"\u53D1\u9001\u4FE1\u606F..."})}),M&&Be()&&(0,t.jsx)("div",{className:"sub-menu",children:(k=Be())===null||k===void 0?void 0:k.map(function(r){return(0,t.jsx)("div",{className:"sub-menu-item",onClick:function(){return _==null?void 0:_(r)},children:r.name},r.id)})})]})]})})},U=pe},65124:function(De,L,n){n.r(L),n.d(L,{default:function(){return X}});var $=n(15009),D=n.n($),V=n(97857),c=n.n(V),Q=n(99289),q=n.n(Q),ie=n(5574),j=n.n(ie),Z=n(44685),re=n(76772),t=n(47019),pe=n(45360),U=n(4393),p=n(71230),C=n(15746),k=n(71471),W=n(34041),ee=n(86250),w=n(72269),ne=n(11941),se=n(96074),_=n(42075),y=n(83622),d=n(67294),P=n(55102),e=n(85893),a=P.Z.TextArea,l=function(O){var A=O.form;return(0,e.jsxs)("div",{children:[(0,e.jsx)("h2",{children:"\u57FA\u7840\u4FE1\u606F"}),(0,e.jsxs)(t.Z,{form:A,layout:"vertical",children:[(0,e.jsx)(t.Z.Item,{name:"name",label:"\u6A21\u677F\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6A21\u677F\u540D\u79F0"}],children:(0,e.jsx)(P.Z,{placeholder:"\u8BF7\u8F93\u5165\u6A21\u677F\u540D\u79F0"})}),(0,e.jsx)(t.Z.Item,{name:"type",label:"\u6A21\u677F\u7C7B\u578B",children:(0,e.jsx)(W.Z,{placeholder:"\u8BF7\u9009\u62E9\u6A21\u677F\u7C7B\u578B",options:[{label:"\u5BCC\u5A92\u4F53",value:"rich"}]})}),(0,e.jsx)(t.Z.Item,{name:"fallbackContent",label:"\u77ED\u4FE1\u56DE\u843D",extra:"\u5185\u5BB9\u65E0\u9700\u5E26\u7B7E\u540D\u548C\u540E\u7F00\uFF0C\u94FE\u63A5\u524D\u540E\u9700\u52A0\u7A7A\u683C",children:(0,e.jsx)(a,{placeholder:"\u8BF7\u8F93\u5165\u77ED\u4FE1\u56DE\u843D\u5185\u5BB9",autoSize:{minRows:4,maxRows:6},showCount:!0,maxLength:500})}),(0,e.jsx)(t.Z.Item,{name:"signature",label:"\u77ED\u4FE1\u7B7E\u540D",extra:"\u9ED8\u8BA4\u4F7F\u7528Chatbot\u76F8\u5173\u8054\u7684\u7B7E\u540D",children:(0,e.jsx)(P.Z,{disabled:!0})}),(0,e.jsx)(t.Z.Item,{name:"suffix",label:"\u77ED\u4FE1\u540E\u7F00",children:(0,e.jsx)(W.Z,{placeholder:"\u8BF7\u9009\u62E9\u77ED\u4FE1\u540E\u7F00",options:[{label:"\u62D2\u6536\u8BF7\u56DE\u590D R",value:"R"}]})})]})]})},s=l,u=n(19632),h=n.n(u),te=n(17198),z=n(1413),K=n(27363),le=n(91146),ue=function(O,A){return d.createElement(le.Z,(0,z.Z)((0,z.Z)({},O),{},{ref:A,icon:K.Z}))},de=d.forwardRef(ue),ae=de,B=n(47046),H=function(O,A){return d.createElement(le.Z,(0,z.Z)((0,z.Z)({},O),{},{ref:A,icon:B.Z}))},I=d.forwardRef(H),m=I,M=n(51042),E=n(96068),ye=n(85576),ce=n(2487),Fe=(0,d.forwardRef)(function(ve,O){var A,J=ve.onCardsChange,Ze=(0,d.useState)([]),oe=j()(Ze,2),Y=oe[0],fe=oe[1],he=(0,d.useState)(!1),F=j()(he,2),T=F[0],R=F[1],ge=(0,d.useState)(null),Me=j()(ge,2),v=Me[0],xe=Me[1],Te=t.Z.useForm(),Ie=j()(Te,1),Ee=Ie[0],Re=(0,d.useState)("add"),Se=j()(Re,2),Oe=Se[0],be=Se[1],Ce=(0,d.useRef)(null);(0,d.useImperativeHandle)(O,function(){return{getCards:function(){return Y}}}),(0,d.useEffect)(function(){J==null||J(Y)},[Y,J]);var je=function(){be("add"),xe({id:Date.now().toString(),buttons:[],title:"",summary:"",mediaType:"image"}),Ee.resetFields(),R(!0)},_e=function(i){be("edit"),xe(i),Ee.setFieldsValue(i),R(!0)},Ne=function(i){fe(Y.filter(function(x){return x.id!==i}))},Le=function(){var f=q()(D()().mark(function i(){var x;return D()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.prev=0,S.next=3,Ee.validateFields();case 3:x=S.sent,Oe==="add"?fe([].concat(h()(Y),[c()(c()({},v),x)])):v&&fe(Y.map(function(Ue){return Ue.id===v.id?c()(c()({},v),x):Ue})),R(!1),S.next=11;break;case 8:S.prev=8,S.t0=S.catch(0),console.error("Form validation failed:",S.t0);case 11:case"end":return S.stop()}},i,null,[[0,8]])}));return function(){return f.apply(this,arguments)}}(),$e=function(i,x){var g=c()(c()({},i),{},{id:i.id||Date.now().toString()});x==="add"&&v?xe(c()(c()({},v),{},{buttons:[].concat(h()(v.buttons),[g])})):x==="edit"&&v&&xe(c()(c()({},v),{},{buttons:v.buttons.map(function(S){return S.id===g.id?g:S})}))},G=function(i){var x;(x=Ce.current)===null||x===void 0||x.show("edit",i)},b=function(i){v&&xe(c()(c()({},v),{},{buttons:v.buttons.filter(function(x){return x.id!==i})}))},N=[{title:"\u6807\u9898",dataIndex:"title",key:"title"},{title:"\u7D20\u6750\u7C7B\u578B",dataIndex:"mediaUrl",key:"mediaUrl"},{title:"\u6458\u8981",dataIndex:"summary",key:"summary"},{width:150,title:"\u64CD\u4F5C",key:"action",render:function(i,x){return(0,e.jsxs)(_.Z,{children:[(0,e.jsx)(y.ZP,{type:"link",icon:(0,e.jsx)(ae,{}),onClick:function(){return _e(x)},children:"\u7F16\u8F91"}),(0,e.jsx)(y.ZP,{type:"link",danger:!0,icon:(0,e.jsx)(m,{}),onClick:function(){return Ne(x.id)},children:"\u5220\u9664"})]})}}];return(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{style:{marginBottom:16},children:(0,e.jsxs)("h2",{children:["\u5361\u7247\u5217\u8868",(0,e.jsx)(y.ZP,{style:{marginLeft:16},type:"primary",icon:(0,e.jsx)(M.Z,{}),onClick:je,children:"\u65B0\u5EFA\u5361\u7247"})]})}),(0,e.jsx)(E.Z,{columns:N,dataSource:Y,rowKey:"id",pagination:!1}),(0,e.jsx)(ye.Z,{title:v?"\u7F16\u8F91\u5361\u7247":"\u65B0\u5EFA\u5361\u7247",open:T,onOk:Le,onCancel:function(){return R(!1)},width:600,children:(0,e.jsxs)(t.Z,{form:Ee,layout:"vertical",children:[(0,e.jsx)(t.Z.Item,{name:"title",label:"\u6807\u9898",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6807\u9898"}],children:(0,e.jsx)(P.Z,{placeholder:"\u8BF7\u8F93\u5165\u6807\u9898"})}),(0,e.jsx)(t.Z.Item,{name:"mediaUrl",label:"\u7D20\u6750\u7C7B\u578B",rules:[{message:"\u8BF7\u9009\u62E9\u7D20\u6750\u7C7B\u578B"}],children:(0,e.jsx)(W.Z,{placeholder:"\u8BF7\u9009\u62E9\u7D20\u6750\u7C7B\u578B",options:[{value:"https://cdn-static.isjike.com/open-data-console/logo_light.png",label:"xx\u56FE\u7247"},{value:"video",label:"xx\u89C6\u9891"},{value:"audio",label:"xx\u97F3\u9891"}]})}),(0,e.jsx)(t.Z.Item,{name:"summary",style:{marginBottom:16},label:"\u6458\u8981",rules:[{max:1e3,message:"\u6458\u8981\u4E0D\u80FD\u8D85\u8FC71000\u5B57"}],children:(0,e.jsx)(P.Z.TextArea,{placeholder:"\u8BF7\u8F93\u5165\u6458\u8981\uFF0C\u5982\u9700\u8981\u63D2\u5165\u53D8\u91CF\u4FA7\u7528{}\u5360\u4F4D",maxLength:1e3,showCount:!0,rows:4})}),(0,e.jsxs)(t.Z.Item,{label:"\u5E95\u90E8\u6309\u94AE",children:[((A=v==null?void 0:v.buttons)!==null&&A!==void 0?A:[]).length>0?(0,e.jsx)(ce.Z,{size:"small",dataSource:(v==null?void 0:v.buttons)||[],renderItem:function(i){return(0,e.jsx)(ce.Z.Item,{actions:[(0,e.jsx)(y.ZP,{type:"link",icon:(0,e.jsx)(ae,{}),onClick:function(){return G(i)},children:"\u7F16\u8F91"},"edit"),(0,e.jsx)(y.ZP,{type:"link",danger:!0,icon:(0,e.jsx)(m,{}),onClick:function(){return b(i.id)},children:"\u5220\u9664"},"delete")],children:(0,e.jsx)(ce.Z.Item.Meta,{title:i.name,description:(0,e.jsxs)("div",{children:["\u7C7B\u578B\uFF1A$",i.type==="page"?"\u8DF3\u8F6C\u9875\u9762":i.type==="phone"?"\u62E8\u6253\u7535\u8BDD":"\u5B9A\u5411\u53D1\u9001",(0,e.jsxs)("div",{children:["\u5185\u5BB9\uFF1A",i.content||i.phoneNumber]})]})})})}}):"",(0,e.jsx)(y.ZP,{type:"primary",icon:(0,e.jsx)(M.Z,{}),onClick:function(){var i;(i=Ce.current)===null||i===void 0||i.show("add")},style:{marginTop:16},children:"\u6DFB\u52A0\u6309\u94AE"})]})]})}),(0,e.jsx)(te.Z,{ref:Ce,onOk:$e})]})}),me=Fe,Ae={page:"\u8DF3\u8F6C\u9875\u9762",phone:"\u62E8\u6253\u7535\u8BDD",message:"\u5B9A\u5411\u53D1\u9001",send:"\u5B9A\u5411\u53D1\u9001"},Be=function(O){var A=O.menuItems,J=O.setMenuItems,Ze=O.onDeleteMenuItem,oe=(0,d.useRef)(null),Y=function(F,T){J(T==="add"?[].concat(h()(A),[F]):A.map(function(R){return R.id===F.id?F:R}))},fe=[{title:"\u83DC\u5355\u540D\u79F0",dataIndex:"name",key:"name"},{title:"\u83DC\u5355\u7C7B\u578B",dataIndex:"type",key:"type",render:function(F){return F&&Ae[F]}},{title:"\u5185\u5BB9",dataIndex:"content",key:"content",render:function(F,T){return T.type==="page"?T.content:T.type==="phone"?T.phoneNumber:T.content}},{title:"\u64CD\u4F5C",key:"action",width:150,render:function(F,T){return(0,e.jsxs)(_.Z,{children:[(0,e.jsx)(y.ZP,{type:"link",icon:(0,e.jsx)(ae,{}),onClick:function(){var ge;return(ge=oe.current)===null||ge===void 0?void 0:ge.show("edit",T)},children:"\u7F16\u8F91"}),(0,e.jsx)(y.ZP,{type:"link",danger:!0,icon:(0,e.jsx)(m,{}),onClick:function(){return Ze(T.id)},children:"\u5220\u9664"})]})}}];return(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{style:{marginBottom:16},children:(0,e.jsxs)("h2",{children:["\u5E95\u90E8\u60AC\u6D6E\u83DC\u5355",(0,e.jsx)(y.ZP,{style:{marginLeft:16},type:"primary",icon:(0,e.jsx)(M.Z,{}),onClick:function(){var F;return(F=oe.current)===null||F===void 0?void 0:F.show("add")},children:"\u6DFB\u52A0\u83DC\u5355\u9879"})]})}),(0,e.jsx)(E.Z,{columns:fe,dataSource:A,rowKey:"id",pagination:!1}),(0,e.jsx)(te.Z,{ref:oe,onOk:Y})]})},Pe=Be,r={menuItem:"menuItem___eftgf",cardItem:"cardItem___sxT9x",buttonList:"buttonList___kxnTt",buttonItem:"buttonItem___GhA4l",uploadArea:"uploadArea___PlLcg",tabsContainer:"tabsContainer___lFoqo",contentContainer:"contentContainer___FkPAz",section:"section___GzQng","ant-form":"ant-form___fPtpP","ant-card":"ant-card___ydRC9","ant-card-body":"ant-card-body___DeSeF"},o=function(){var O=t.Z.useForm(),A=j()(O,1),J=A[0],Ze=(0,d.useState)(!1),oe=j()(Ze,2),Y=oe[0],fe=oe[1],he=(0,d.useState)("basic"),F=j()(he,2),T=F[0],R=F[1],ge=(0,d.useState)([]),Me=j()(ge,2),v=Me[0],xe=Me[1],Te=(0,d.useState)([]),Ie=j()(Te,2),Ee=Ie[0],Re=Ie[1],Se=(0,d.useRef)(null),Oe=(0,d.useRef)(null),be=(0,d.useRef)(null),Ce=(0,d.useRef)(null),je=(0,d.useRef)(null);(0,d.useEffect)(function(){var G=function(){var f,i;if(je.current){var x=je.current.scrollTop,g=((f=be.current)===null||f===void 0?void 0:f.offsetTop)||0,S=((i=Ce.current)===null||i===void 0?void 0:i.offsetTop)||0;x>=S-100?R("menu"):x>=g-100?R("cards"):R("basic")}},b=je.current;return b&&b.addEventListener("scroll",G),function(){b&&b.removeEventListener("scroll",G)}},[]);var _e=function(b){R(b);var N={basic:Oe,cards:be,menu:Ce},f=N[b];f.current&&je.current&&je.current.scrollTo({top:f.current.offsetTop-20,behavior:"smooth"})},Ne=function(b){xe(v.filter(function(N){return N.id!==b}))},Le=function(){var G=q()(D()().mark(function b(){var N,f,i;return D()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.prev=0,g.next=3,J.validateFields();case 3:f=g.sent,i=((N=Se.current)===null||N===void 0?void 0:N.getCards())||[],fe(!0),console.log("\u63D0\u4EA4\u7684\u8868\u5355\u6570\u636E:",c()(c()({},f),{},{cards:i})),pe.ZP.success("\u6A21\u677F\u521B\u5EFA\u6210\u529F"),re.history.back(),g.next=14;break;case 11:g.prev=11,g.t0=g.catch(0),console.error("\u8868\u5355\u9A8C\u8BC1\u5931\u8D25:",g.t0);case 14:return g.prev=14,fe(!1),g.finish(14);case 17:case"end":return g.stop()}},b,null,[[0,11,14,17]])}));return function(){return G.apply(this,arguments)}}(),$e=function(){re.history.back()};return(0,e.jsxs)(U.Z,{children:[(0,e.jsx)(p.Z,{children:(0,e.jsx)(C.Z,{span:24,children:(0,e.jsxs)(t.Z,{form:J,layout:"horizontal",children:[(0,e.jsx)(t.Z.Item,{label:"\u9009\u62E9\u7528\u6237",name:"templateName",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u7528\u6237"}],extra:(0,e.jsx)(k.Z.Text,{type:"secondary",children:"\u4E3A\u6307\u5B9A\u7528\u6237\u8D26\u6237\uFF0C\u521B\u5EFA\u6A21\u7248"}),children:(0,e.jsx)(W.Z,{placeholder:"\u6307\u5B9A\u7528\u6237\u8D26\u53F7",style:{maxWidth:400}})}),(0,e.jsxs)(ee.Z,{wrap:!0,children:[(0,e.jsx)(t.Z.Item,{label:"\u9700\u7528\u6237\u6388\u6743",name:"authorization",children:(0,e.jsx)(w.Z,{})}),(0,e.jsx)(t.Z.Item,{dependencies:["authorization","time"],noStyle:!0,children:function(b){var N=b.getFieldValue,f=N("authorization"),i=N("time");return f?(0,e.jsx)(t.Z.Item,{label:"\u5012\u8BA1\u65F6",name:"time",labelCol:{span:4},style:{flex:1},extra:i&&(0,e.jsx)(k.Z.Text,{type:"secondary",style:{whiteSpace:"nowrap"},children:"24\u5C0F\u65F6\u540E\uFF0C\u81EA\u52A8\u6388\u6743"}),children:(0,e.jsx)(w.Z,{})}):null}})]})]})})}),(0,e.jsxs)(p.Z,{gutter:24,children:[(0,e.jsx)(C.Z,{span:7,children:(0,e.jsx)(Z.Z,{cards:Ee,tabs:[],onTabClick:function(){},floatingButtons:v,onFloatingButtonClick:function(b){console.log("Floating button clicked:",b)}})}),(0,e.jsxs)(C.Z,{span:16,children:[(0,e.jsxs)("div",{className:r.tabsContainer,children:[(0,e.jsx)(ne.Z,{activeKey:T,onChange:_e,tabPosition:"right",items:[{key:"basic",label:"\u57FA\u7840\u4FE1\u606F",children:null},{key:"cards",label:"\u5361\u7247\u4FE1\u606F",children:null},{key:"menu",label:"\u60AC\u6D6E\u83DC\u5355",children:null}]}),(0,e.jsxs)("div",{ref:je,className:r.contentContainer,children:[(0,e.jsx)("div",{ref:Oe,className:r.section,children:(0,e.jsx)(s,{form:J})}),(0,e.jsx)("div",{ref:be,className:r.section,children:(0,e.jsx)(me,{ref:Se,onCardsChange:Re})}),(0,e.jsx)("div",{ref:Ce,className:r.section,children:(0,e.jsx)(Pe,{menuItems:v,setMenuItems:xe,onDeleteMenuItem:Ne})}),(0,e.jsx)(se.Z,{})]})]}),(0,e.jsx)(ee.Z,{justify:"end",style:{marginTop:12},children:(0,e.jsxs)(_.Z,{children:[(0,e.jsx)(y.ZP,{onClick:$e,children:"\u53D6\u6D88"}),(0,e.jsx)(y.ZP,{type:"primary",onClick:Le,loading:Y,children:"\u63D0\u4EA4\u521B\u5EFA"})]})})]})]})]})},X=o},86250:function(De,L,n){n.d(L,{Z:function(){return e}});var $=n(67294),D=n(93967),V=n.n(D),c=n(98423),Q=n(98065),q=n(53124),ie=n(83559),j=n(83262);const Z=["wrap","nowrap","wrap-reverse"],re=["flex-start","flex-end","start","end","center","space-between","space-around","space-evenly","stretch","normal","left","right"],t=["center","start","end","flex-start","flex-end","self-start","self-end","baseline","normal","stretch"],pe=(a,l)=>{const s=l.wrap===!0?"wrap":l.wrap;return{[`${a}-wrap-${s}`]:s&&Z.includes(s)}},U=(a,l)=>{const s={};return t.forEach(u=>{s[`${a}-align-${u}`]=l.align===u}),s[`${a}-align-stretch`]=!l.align&&!!l.vertical,s},p=(a,l)=>{const s={};return re.forEach(u=>{s[`${a}-justify-${u}`]=l.justify===u}),s};function C(a,l){return V()(Object.assign(Object.assign(Object.assign({},pe(a,l)),U(a,l)),p(a,l)))}var k=C;const W=a=>{const{componentCls:l}=a;return{[l]:{display:"flex",margin:0,padding:0,"&-vertical":{flexDirection:"column"},"&-rtl":{direction:"rtl"},"&:empty":{display:"none"}}}},ee=a=>{const{componentCls:l}=a;return{[l]:{"&-gap-small":{gap:a.flexGapSM},"&-gap-middle":{gap:a.flexGap},"&-gap-large":{gap:a.flexGapLG}}}},w=a=>{const{componentCls:l}=a,s={};return Z.forEach(u=>{s[`${l}-wrap-${u}`]={flexWrap:u}}),s},ne=a=>{const{componentCls:l}=a,s={};return t.forEach(u=>{s[`${l}-align-${u}`]={alignItems:u}}),s},se=a=>{const{componentCls:l}=a,s={};return re.forEach(u=>{s[`${l}-justify-${u}`]={justifyContent:u}}),s},_=()=>({});var y=(0,ie.I$)("Flex",a=>{const{paddingXS:l,padding:s,paddingLG:u}=a,h=(0,j.IX)(a,{flexGapSM:l,flexGap:s,flexGapLG:u});return[W(h),ee(h),w(h),ne(h),se(h)]},_,{resetStyle:!1}),d=function(a,l){var s={};for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&l.indexOf(u)<0&&(s[u]=a[u]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var h=0,u=Object.getOwnPropertySymbols(a);h<u.length;h++)l.indexOf(u[h])<0&&Object.prototype.propertyIsEnumerable.call(a,u[h])&&(s[u[h]]=a[u[h]]);return s},e=$.forwardRef((a,l)=>{const{prefixCls:s,rootClassName:u,className:h,style:te,flex:z,gap:K,children:le,vertical:ue=!1,component:de="div"}=a,ae=d(a,["prefixCls","rootClassName","className","style","flex","gap","children","vertical","component"]),{flex:B,direction:H,getPrefixCls:I}=$.useContext(q.E_),m=I("flex",s),[M,E,ye]=y(m),ce=ue!=null?ue:B==null?void 0:B.vertical,Fe=V()(h,u,B==null?void 0:B.className,m,E,ye,k(m,a),{[`${m}-rtl`]:H==="rtl",[`${m}-gap-${K}`]:(0,Q.n)(K),[`${m}-vertical`]:ce}),me=Object.assign(Object.assign({},B==null?void 0:B.style),te);return z&&(me.flex=z),K&&!(0,Q.n)(K)&&(me.gap=K),M($.createElement(de,Object.assign({ref:l,className:Fe,style:me},(0,c.Z)(ae,["justify","wrap","align"])),le))})}}]);
