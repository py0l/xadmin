import { Request, Response } from 'express';

const sendRecordList = [
  {
    accountId: 'jk0092',
    phoneNumber: '13800138002',
    enterpriseName: '深圳xxxxxx有限公司',
    taskId: '020108',
    taskName: '发送任务的名称',
    chatbotName: 'Chatbot的名称',
    fallbackSmsContent: '【签名的名称】 Lorem ipsum dolor sit amet, consectetur adipiscing elit.',
    charCount: 60,
    billingCount: 1,
    numberCount: 200000,
    submissionTime: '2024-12-18 17:35:42',
    status: '待审核',
    completionTime: undefined,
    _5gMessageSuccessCount: undefined,
    smsSuccessCount: undefined,
  },
  {
    accountId: 'jk0091',
    phoneNumber: '13800138001',
    enterpriseName: '深圳xxxxxx有限公司',
    taskId: '020107',
    taskName: '发送任务的名称',
    chatbotName: 'Chatbot的名称',
    fallbackSmsContent: '【签名的名称】 Lorem ipsum dolor sit amet, consectetur adipiscing elit.',
    charCount: 60,
    billingCount: 1,
    numberCount: 200000,
    submissionTime: '2024-12-18 17:35:42',
    status: '审核中',
    completionTime: undefined,
    _5gMessageSuccessCount: undefined,
    smsSuccessCount: undefined,
  },
  {
    accountId: 'jk0093',
    phoneNumber: '13800138003',
    enterpriseName: '深圳xxxxxx有限公司',
    taskId: '020106',
    taskName: '发送任务的名称',
    chatbotName: 'Chatbot的名称',
    fallbackSmsContent: '【签名的名称】 Lorem ipsum dolor sit amet, consectetur adipiscing elit.',
    charCount: 58,
    billingCount: 1,
    numberCount: 200000,
    submissionTime: '2024-10-18 17:35:42',
    status: '驳回',
    completionTime: undefined,
    _5gMessageSuccessCount: undefined,
    smsSuccessCount: undefined,
  },
  {
    accountId: 'jk0092',
    phoneNumber: '13800138002',
    enterpriseName: '深圳xxxxxx有限公司',
    taskId: '020105',
    taskName: '发送任务的名称',
    chatbotName: 'Chatbot的名称',
    fallbackSmsContent: '【签名的名称】 Lorem ipsum dolor sit amet, consectetur adipiscing elit.',
    charCount: 47,
    billingCount: 1,
    numberCount: 200000,
    submissionTime: '2024-09-18 17:35:42',
    status: '正在发送',
    completionTime: undefined,
    _5gMessageSuccessCount: undefined,
    smsSuccessCount: undefined,
  },
  {
    accountId: 'jk0091',
    phoneNumber: '13800138001',
    enterpriseName: '深圳赛格股份有限公司',
    taskId: '020104',
    taskName: '发送任务的名称',
    chatbotName: 'Chatbot的名称',
    fallbackSmsContent: '【签名的名称】 Lorem ipsum dolor sit amet, consectetur adipiscing elit.',
    charCount: 58,
    billingCount: 1,
    numberCount: 200000,
    submissionTime: '2024-09-28 17:35:42',
    status: '暂停',
    completionTime: undefined,
    _5gMessageSuccessCount: 1231,
    smsSuccessCount: 1231,
  },
  {
    accountId: 'jk0092',
    phoneNumber: '13800138002',
    enterpriseName: '深圳xxxxxx有限公司',
    taskId: '020103',
    taskName: '发送任务的名称',
    chatbotName: 'Chatbot的名称',
    fallbackSmsContent: '【签名的名称】 Lorem ipsum dolor sit amet, consectetur adipiscing elit.',
    charCount: 68,
    billingCount: 1,
    numberCount: 200000,
    submissionTime: '2024-08-29 17:35:42',
    status: '已终止',
    completionTime: '2024-08-29 17:35:42',
    _5gMessageSuccessCount: 12224,
    smsSuccessCount: 12224,
  },
  {
    accountId: 'jk0091',
    phoneNumber: '13800138001',
    enterpriseName: '深圳赛格股份有限公司',
    taskId: '020102',
    taskName: '发送任务的名称',
    chatbotName: 'Chatbot的名称',
    fallbackSmsContent: '【签名的名称】 Lorem ipsum dolor sit amet, consectetur adipiscing elit.',
    charCount: 151,
    billingCount: 3,
    numberCount: 200000,
    submissionTime: '2024-08-18 17:35:42',
    status: '已发送',
    completionTime: '2024-08-18 17:35:42',
    _5gMessageSuccessCount: 200000,
    smsSuccessCount: 0,
  },
];

export default {
  'GET /api/sendRecord': (req: Request, res: Response) => {
    console.log('Received request for /api/sendRecord:', req.query); // 添加日志
    const { pageSize = 10, current = 1 } = req.query;
    const start = (Number(current) - 1) * Number(pageSize);
    const end = start + Number(pageSize);
    const paginatedList = sendRecordList.slice(start, end);

    res.send({
      data: paginatedList,
      total: sendRecordList.length,
      success: true,
    });
  },
};
