"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[3648],{51042:function(B,i,e){var d=e(1413),l=e(67294),D=e(42110),r=e(91146),g=function(h,m){return l.createElement(r.Z,(0,d.Z)((0,d.Z)({},h),{},{ref:m,icon:D.Z}))},I=l.forwardRef(g);i.Z=I},71850:function(B,i,e){e.r(i),e.d(i,{default:function(){return K}});var d=e(15009),l=e.n(d),D=e(97857),r=e.n(D),g=e(13769),I=e.n(g),F=e(99289),h=e.n(F),m=e(76772);function Z(P,p){return E.apply(this,arguments)}function E(){return E=h()(l()().mark(function P(p,A){return l()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,m.request)("/api/templateManagement",r()({method:"GET",params:r()({},p)},A||{})));case 1:case"end":return t.stop()}},P)})),E.apply(this,arguments)}var M=e(51042),R=e(71477),f=e(71471),S=e(42075),T=e(86738),C=e(45360),b=e(83622),L=e(67294),a=e(85893),O=["searchKeyword"],k=function(){var p=function(){m.history.push("template-management/create")},A=[{title:"\u8D26\u53F7UID",dataIndex:"accountUID",key:"accountUID",valueType:"select",fieldProps:{showSearch:!0,options:[{label:"\u5168\u90E8\u8D26\u53F7",value:""},{label:"\u8D26\u53F7A",value:"accountA"},{label:"\u8D26\u53F7B",value:"accountB"}]},search:!1},{title:"\u624B\u673A\u53F7\u7801",dataIndex:"phoneNumber",key:"phoneNumber",search:!1},{title:"\u4F01\u4E1A\u540D\u79F0",dataIndex:"enterpriseName",key:"enterpriseName",search:!1},{title:"\u6A21\u677FID",dataIndex:"templateID",key:"templateID",search:!1},{title:"\u6A21\u677F\u540D\u79F0",dataIndex:"templateName",key:"templateName",search:!1},{title:"Chatbot",dataIndex:"chatbot",key:"chatbot",search:!1},{title:"\u56DE\u843D\u77ED\u4FE1\u5185\u5BB9",dataIndex:"fallbackSMSContent",key:"fallbackSMSContent",search:!1,render:function(t){return(0,a.jsx)(f.Z.Paragraph,{ellipsis:{rows:2,expandable:!0,symbol:"\u66F4\u591A"},children:t})}},{title:"\u5B57\u7B26\u6570",dataIndex:"characterCount",key:"characterCount",search:!1},{title:"\u8BA1\u8D39(\u6761)\u6570",dataIndex:"billingCount",key:"billingCount",search:!1},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createTime",key:"createTime",search:!1},{title:"\u8D26\u53F7",dataIndex:"accountUID",key:"accountUID",valueType:"select",fieldProps:{showSearch:!0,options:[{label:"\u5168\u90E8\u8D26\u53F7",value:""},{label:"\u8D26\u53F7A",value:"accountA"},{label:"\u8D26\u53F7B",value:"accountB"}]},hidden:!0},{title:"\u72B6\u6001",dataIndex:"status",key:"status",valueType:"select",valueEnum:{"":{text:"\u5168\u90E8",status:"Default"},\u5F85\u5BA1\u6838:{text:"\u5F85\u5BA1\u6838",status:"Warning"},\u5BA1\u6838\u4E2D:{text:"\u5BA1\u6838\u4E2D",status:"Processing"},\u901A\u8FC7:{text:"\u901A\u8FC7",status:"Success"},\u62D2\u7EDD:{text:"\u62D2\u7EDD",status:"Error"}}},{title:"\u67E5\u8BE2",dataIndex:"searchKeyword",key:"searchKeyword",valueType:"text",fieldProps:{placeholder:"\u8F93\u5165\u6A21\u677F\u540D\u79F0\u3001\u6A21\u677F\u5185\u5BB9"},hideInTable:!0},{title:"\u7CFB\u7EDF\u5BA1\u6838",dataIndex:"systemReview",key:"systemReview",search:!1,render:function(t){return t==="\u901A\u8FC7"?(0,a.jsx)("span",{style:{color:"green"},children:t}):t}},{title:"\u901A\u9053\u5BA1\u6838",dataIndex:"channelReview",key:"channelReview",search:!1,render:function(t){return t==="\u901A\u8FC7"?(0,a.jsx)("span",{style:{color:"green"},children:t}):t}},{title:"\u64CD\u4F5C",key:"action",search:!1,fixed:"right",width:120,render:function(t,n){return(0,a.jsxs)(S.Z,{size:"middle",children:[n.status==="\u5F85\u5BA1\u6838"&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(T.Z,{title:"\u786E\u5B9A\u540C\u610F\u8BE5\u6A21\u677F\u5417\uFF1F",onConfirm:function(){return C.ZP.success("\u540C\u610F\u6A21\u677F: ".concat(n.templateID))},okText:"\u786E\u5B9A",cancelText:"\u53D6\u6D88",children:(0,a.jsx)(f.Z.Link,{children:"\u540C\u610F"})}),(0,a.jsx)(T.Z,{title:"\u786E\u5B9A\u62D2\u7EDD\u8BE5\u6A21\u677F\u5417\uFF1F",onConfirm:function(){return C.ZP.error("\u62D2\u7EDD\u6A21\u677F: ".concat(n.templateID))},okText:"\u786E\u5B9A",cancelText:"\u53D6\u6D88",children:(0,a.jsx)(f.Z.Link,{style:{color:"red"},children:"\u62D2\u7EDD"})})]}),(n.status==="\u901A\u8FC7"||n.status==="\u62D2\u7EDD")&&(0,a.jsx)(T.Z,{title:"\u786E\u5B9A\u5220\u9664\u8BE5\u6A21\u677F\u5417\uFF1F",onConfirm:function(){return C.ZP.info("\u5220\u9664\u6A21\u677F: ".concat(n.templateID))},okText:"\u786E\u5B9A",cancelText:"\u53D6\u6D88",children:(0,a.jsx)(f.Z.Link,{children:"\u5220\u9664"})})]})}}];return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(R.Z,{columns:A,request:h()(l()().mark(function u(){var t,n,o,v,j,y,x,s=arguments;return l()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t=s.length>0&&s[0]!==void 0?s[0]:{},n=s.length>1?s[1]:void 0,o=s.length>2?s[2]:void 0,console.log(t,n,o),v=t.searchKeyword,j=I()(t,O),y=r()(r()(r()({},j),n),o),v&&(y=r()(r()({},y),{},{templateName:v,fallbackSMSContent:v})),c.next=9,Z(y);case 9:return x=c.sent,c.abrupt("return",{data:x.data,success:x.success,total:x.total});case 11:case"end":return c.stop()}},u)})),rowKey:"templateID",pagination:{showSizeChanger:!0},search:{labelWidth:"auto"},scroll:{x:"max-content"},options:!1,toolBarRender:function(){return[(0,a.jsx)(b.ZP,{type:"primary",icon:(0,a.jsx)(M.Z,{}),onClick:p,children:"\u521B\u5EFA\u6A21\u677F"},"createTemplate")]}})})},K=k}}]);
